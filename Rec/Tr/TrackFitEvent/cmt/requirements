#============================================================================
# Created    : 2005-03-07
# Maintainer : Jose Hernando, Eduardo Rodrigues
#============================================================================
package           TrackFitEvent
version           v2r5

#============================================================================
# Structure, i.e. directories to process. 
#============================================================================
branches          cmt doc dict Event xml
include_dirs      $(TRACKFITEVENTROOT)

#============================================================================
# Used packages.
#============================================================================
use   LHCbKernel      v*      Kernel

use   TrackEvent      v*      Event
use   DigiEvent       v*      Event

use   OTDet           v*      Det
use   STDet           v*      Det
use   VeloDet         v*      Det

use   LHCbDefinitions v*      Kernel

#============================================================================
#---- Produce Header-Files from XML description
private
document obj2doth TrackFitEventObj2Doth ../xml/*.xml

# Make custom dictionary. Must be before GOD generation
#============================================================================
document customdict TrackFitEventCustomDict ../Event/lcgDict.h

# Generate remaining dictionaries with lcgdict via GOD
#============================================================================
macro TrackFitEventObj2Dict_GODflags " -s ../Event/ " \
      WIN32                          " -s ..\Event\ "
document obj2dict TrackFitEventObj2Dict ../xml/*.xml

public
library          TrackFitEvent         ../src/*.cpp
library          TrackFitEventDict     ../$(tag)/dict/TrackFitEvent/*.cpp

#============================================================================
# define library link options
#============================================================================
apply_pattern component_library library=TrackFitEventDict
apply_pattern linker_library	library=TrackFitEvent

macro_append TrackFitEvent_linkopts  "" WIN32 "/include:_TrackFitEvent_loadRef" 

private
use GaudiObjDesc v*
