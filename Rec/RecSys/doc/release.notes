<PRE>
Package: RecSys
Package Coordinator: Marco Cattaneo
Purpose: LHCb reconstruction packages.
         This project groups together all the reconstruction packages needed
         by one or more LHCb applications. 

! 2007-04-23 - Chris Jones
 - Adapt to option file name changes in RichRecSys

</PRE><H1><A NAME=v4r4>2007-03-30 RecSys v4r4</A></H1><PRE>
This version uses Gaudi v19r3 and LHCb v22r4.

- Packages removed: VeloTools (moved to LBCOM)
- Packages updated: TrackFitEvent v3r3, TrackUtils v1r12, PatVeloTT v2r10,
                    PatVelo v2r13, TrackTools v2r13, PatPV v2r7, GlobalReco v6r9

- In TrackUtils v1r12
  . TrackPrepareVelo sets q/p for all VELO states (if more than one)

- In PatVeloTT v2r10
  . PatVeloTT uses all VELO track states (if more than one)

- In PatVelo v2r13
 - A few small code speed ups and name corrections/improvements
 - Improved angular comparisons
 - Also make outward track fit for VELO tracks: write two states to Track
 - Merge clone tracks by comparisons on angles and z position

- In PatVelo v2r13, PatVeloTT v2r10, PatPV v2r7
  . Fixed all unchecked StatusCodes

- In TrackFitEvent v3r3, PatVelo v2r13, TrackTools v2r13
  . Updated to work with new DeVelo interface

- In GlobalReco v6r9
  . Pick up ICaloElectron.h from new CaloUtils location
  . Remove some verbose() messages

- In TrackFitEvent v3r3
  . Fix doxygen warnings

</PRE><H1><A NAME=v4r3>2007-03-13 RecSys v4r3</A></H1><PRE>
This version uses Gaudi v19r3 and LHCb v22r3.

- Packages updated: TrackSys v4r3, TrackExtrapolators v2r10, TrackUtils v1r11, 
    TrackMatching v2r12, TsaAlgorithms v2r2, TrackFitter v2r13, TrackTools v2r12,
    TrackProjectors v2r11, PatForward v2r13, RichRecSys v3r2, RichRecQC v2r9,
    RichTrgGlobalPID v3r5, RichRecMCTools v2r9, RichRecMonitors v2r8, 
    RichLocalPID v3r2, RichGlobalPID v3r2, RichPIDMerge v2r4, RichRecTools v3r9,
    RichRecAlgorithms v2r6, MuonID v4r6, MuonPIDChecker v2r0

- In PatForward v2r13, TrackSys v4r3
  . Add switch for running on B field off data
    (default false, switched on in $TRACKSYSROOT/options/NoFieldTracking.opts)

- In PatForward v2r13
  . Use explicitly EndVelo state and set q/p if more than one state

- In TrackExtrapolators v2r10
  . Clean up Kisel extrapolator

- In TrackUtils v1r11
  . Fix bug in PrepareVelo track selection in case when Best container is ignored

- In TsaAlgorithms v2r2
  . Use findModule method from OT detector element 

- In TrackTools v2r12
  . Add VeloExpectation tool
  . Minor modifications to TrackPtKick, to calculate error as function of p

- In RichRecSys v3r2
  . Update background estimation algorithm name
  . Add options for clustering
  . Add default Raw buffer decoding options from RichDAQ to RecoToolPara.opts

- In RichRecTools v3r9
  . Remove the use of random numbers in GeomEffPhotonTracing

- In RichRecMCTools v2r9, RichRecMonitors v2r8, RichRecTools v3r9, 
     RichRecAlgorithms v2r6
  . Adapt to new HPD pixel clusters

- In RichRecAlgorithms v2r6
  . Rename RichRecBackgroundEsti RichRecBackgroundEstiAvHPD
  . Add new (prototype) background algorithm RichRecBackgroundEstiClustering

- In MuonID v4r6
  . fixed the number of Landau parameters for the muon 
  . changed the binning of the pion DLL to be the same as the muon

- In MuonPIDChecker v2r0
  . Add Total Misid to monitoring table 
  . DLL Cut changed to -1 in the options 
  . fillTrHistos and checkMCAss name starts with lower case (coding convention)

- In RichRecQC v2r9, RichLocalPID v3r2, RichGlobalPID v3r2, RichRecTools v3r9
  . Replace use of Gaudi format with boost::format to fix various issues

- In TrackExtrapolators v2r10, TrackUtils v1r11, TrackMatching v2r12,
     TsaAlgorithms v2r2, TrackFitter v2r13, TrackTools v2r12,
     TrackProjectors v2r11, RichRecQC v2r9, RichTrgGlobalPID v3r5,
     RichRecMCTools v2r9, RichRecMonitors v2r8, RichLocalPID v3r2,
     RichGlobalPID v3r2, RichPIDMerge v2r4, RichRecTools v3r9
  . Fix doxygen comments
 
- In TrackUtils v1r11, TsaAlgorithms v2r2, TrackFitter v2r13, TrackTools v2r12,
     RichRecQC v2r9, RichTrgGlobalPID v3r5, RichRecMCTools v2r9,
     RichRecMonitors v2r8, RichLocalPID v3r2, RichGlobalPID v3r2,
     RichPIDMerge v2r4, RichRecTools v3r9, RichRecAlgorithms v2r6
  . Remove obsolete file xxx_load.cpp
 
- In TrackExtrapolators v2r10, TrackMatching v2r12, TsaAlgorithms v2r2,
     TrackFitter v2r13, TrackTools v2r12, TrackProjectors v2r11,
     PatForward v2r13, RichRecTools v3r9, MuonPIDChecker v2r0
  . Fix unchecked StatusCodes

</PRE><H1><A NAME=v4r2>2007-03-05 RecSys v4r2</A></H1><PRE>
This version uses Gaudi v19r2 and LHCb v22r2.

- Packages updated: PatVelo v2r12, PatForward v2r12, PatKShort v1r4, PatPV v2r6,
    PatChecker v2r12, GlobalReco v6r8, MuonPIDChecker v1r0p1, TrackSys v4r2, 
    TrackPython v3r0, TrackMCTools v2r9, CaloPIDs v4r6, CaloReco v4r7, 
    PatFitParams v2r5, PatVeloTT v2r9, TrackExtrapolators v2r9,TrackIdealPR v2r9,
    TrackMatching v2r11, TrackProjectors v2r10, TrackSeeding v1r1,
    VeloTools v1r1p1, TrackFitEvent v3r2, MuonID v4r5

- In PatVelo v2r12
  . Added small tolerance to code to fix phi between -pi and pi in PatVeloSectors
  . Ensured that the sensors not in the readout are skipped in PatVeloRTracking
    and PatVeloSpaceTool
  . PatVeloAlignTool now regsisters all of the sensors with the update manager
    service so the cached parameters will update correctly.
    PatVeloDataHolder is also updated via PatVeloAlignTool

- In PatForward v2r12
  . New algorithm PatMatch to match seeds and Velo tracks using the centre of the
    magnet to match the two straight line extrapolations.
  . Avoid using [] access in PatOTModule and PatITSector
  . Check the best RL ambiguity also for Y projection in PatSeeding.
  . Use the selected RL ambiguity in the initial stereo fit in PatSeedTool

- In PatKShort v1r4
  . Add a missing protection when debugging if there is no MC truth available.
  . Fix qOverP in TT state: Was unsigned!
  . Add PatMakeKShort algorithm with corresponding  options file

- In PatPV v2r6,
  . Small memory leak in PatPV3D removed
  . Get and check statuscodes when available

- In PatChecker v2r12
  . Large speed improvement by computing once the list of LHCbID per MCParticle
    in PatChecker, not by inverting the relation in each counter!
  . New option MeasureTime in PatChecker to distinguish between initialisation
    per event and loop over tracks.
  . Use either Tsa or PatSeeding tracks to compute the Ks efficiencies (requires
    to have a seed) and to debug the missed Ks tracks

- In GlobalReco v6r8
  . Always store Muon system acceptance flag in ProtoParticle, even if IsMuon
    is not satisfied, using new ProtoParticle flag.
  . Update ntuple algorithm to use this new flag
  . Add root direcitory containing useful scripts
  . Exit with StatusCode::SUCCESS but setFilterPassed(false) when no tracks 
    are there.
  . use rootOnTES() in ChargedProtoCombineDLLsAlg for ProtoP location
  . Renormalise Rich DLL contributions to the el and mu combined DLL values
    in order to suppress huge values, which adversely affect the performance
  . Rename ProtoCombineDLLsAlg to ChargedProtoCombineDLLsAlg

- In MuonPIDChecker v1r0p1
  . Remove unneccessary L0Event dependency
  . Updated reference values in the printout

- In TrackPython v3r0
  . Remove reflex dictionary generation. This is now done directly in the
    LHCb v22r2 packages containing the interface header files

- In TrackMCTools v2r9
  . added consts to interface
  . added test on non-empty vector of states in TrackCriteriaSelector
  . removed buggy caching in TrackCriteriaSelector
  
- In TrackIdealPR v2r9
  . fixed bug in seeding. seed-z is no longer cached between (!) tracks

- In TrackFitEvent v3r2
  . Add no_auto_imports to use GaudiObjDesc, to avoid getting a dependency on
    python in the TrackFitEvent link library

- In MuonID v4r5
  . Save MuonPID in container with same key as associated Track

- In PatVelo v2r12, CaloPIDs v4r6, CaloReco v4r7, PatFitParams v2r5,
     PatVeloTT v2r9, VeloTools v1r1p1,TrackExtrapolators v2r9, TrackIdealPR v2r9,
     TrackMatching v2r11, TrackProjectors v2r10, TrackSeeding v1r1
  . Remove LHCbDefinitions includes

- In PatVelo v2r12, PatForward v2r12, PatKShort v1r4,PatPV v2r6,PatChecker v2r12,
     GlobalReco v6r8, MuonPIDChecker v1r0p1, TrackMCTools v2r9, CaloPIDs v4r6,
     CaloReco v4r7, PatFitParams v2r5, PatVeloTT v2r9, TrackExtrapolators v2r9,
     TrackIdealPR v2r9, TrackMatching v2r11, TrackProjectors v2r10,
     TrackSeeding v1r1, VeloTools v1r1p1, TrackFitEvent v3r2, MuonID v4r5
  . Remove obsolete xxx_load.cpp file

- In PatPV v2r6, CaloReco v4r7, PatFitParams v2r5, PatVeloTT v2r9,
     TrackIdealPR v2r9, TrackSeeding v1r1
  . Remove obsolete ApplicationMgr.DLLs options

- In GlobalReco v6r8, TrackMCTools v2r9, CaloPIDs v4r6, TrackExtrapolators v2r9,
     VeloTools v1r1p1
  . Fix doxygen warnings

</PRE><H1><A NAME=v4r1>2007-02-12 RecSys v4r1</A></H1><PRE>
This version uses Gaudi v19r1 and LHCb v22r1.

- Packages added:   MuonPIDChecker v1r0 - Checking algorithms for MuonID

- Packages updated: TsaAlgorithms v2r1, PatForward v2r11, PatVelo v2r11,
    PatFitParams v2r4, PatKShort v1r4, PatPv v2r5, TrackSys v4r1,
    TrackFitEvent v3r1, TrackTools v2r11, GlobalReco v6r7, RichRecSys v3r1,
    RichGlobalPID v3r1, RichLocalPID v3r1, RichPIDMerge v2r3,
    RichRecAlgorithms v2r5, RichRecMCTools v2r8, RichRecMonitors v2r7,
    RichRecQC v2r8, RichRecTools v3r8, RichTrgGlobalPID v3r4, TrackCheckers v2r12

- In PatVelo v2r11
  . Added an option (off by default) to PatVeloSpaceTool to use the RZ crossing
    tracks better when the VELO is open
  . Added an option (off by default) to PatVeloRTracking to look for RZ tracks
    crossing R sectors when the VELO is open
  . PatVeloGeneric - change the seeding so that it looks for clusters in three
    consecutive READ-OUT sensors. This means the seeding in the Generic case will
    work even if there is a switched-off module between working ones

- In PatFitParams v2r4
  . New algorithm SeedFitParams to fit the parameters of PatSeeding
  . Common tool FitTool to fit straight lines, parabola and cubics.
  . Update KsFitParams to fit a pion track at a time. Adaptation to root tuples.
  . Fitted parameters for DC06 KShort.

- In PatKShort v1r4
  . Re-work PatKShort: Introduce curvature in TT, common x-y fit, re-fit 
    parameters, introduce not straight Y projection.
  . Tuned with PatSeeding, but can run with TSA or PatSeeding.
  . Improved efficiency by 4-5 % with 2% extra ghost rate
  . Removed PatNewKShort algorithm, was for future development, no longer needed

- In PatPv v2r5
  . Return setFilterPassed(false) if no PV was found in PatPV2D and 3D.
  . Use LHCb::RecVertexLocation::Velo3D and 2D in PatPV3D.cpp, PatPV2D.cpp 
    instead of hard-coded strings.

- In TrackSys v4r1
  . Added VeloOpenTracking.opts which retunes the VELO pattern recognition for 
    the open VELO case

- In TrackFitEvent v3r1
  . Remove rootmap for Dict library
  . Temp fix in STMeasurement to make sure correct strip is used for the 
    trajectory calculation 

- In TrackTools v2r11
  . bug fix in the TrackCloneFinder tool
    (affects comparisons of hits in the seeding stations)
 
- In GlobalReco v6r7
  . Allow sub-det information to be absent when creating ProtoParticles with
    ChargedProtoPAlg.
  . Suppress FAILURE from warning messages when PID information is missing
  . add protections in ChargedProtoCombineDLLsAlg
  . add the possibility to disable some Det in ChargedProtoCombineDLLsAlg
  . update Charged and Neutral ProtoPAlg (new CaloTrajectoryL info + ecalE)
  . Rename ProtoPTupleAlg as ProtoParticleTupleAlg + fix some doxygen comments

- In RichGlobalPID v3r1
  . Rename RichGlobalPIDAlg RichGlobalPIDLikelihood

- In RichRecQC v2r8
  . Add new monitoring options for PID tables with various pt cuts

- In RichRecSys v3r1
  . Update pixel suppression options to use new clustering tool

- In RichRecTools v3r8
  . Use new method in DeRichBeamPipe to only test for intersection

- In TsaAlgorithms v2r1, PatForward v2r11
  . Minor update due to changes in OTDet

- In TrackCheckers v2r12
  . Fix bug in TrackCheckerNT which could cause Brunel to crash under 
    some circumstances.

- In TsaAlgorithms v2r1, PatForward v2r11, PatFitParams v2r4, PatKShort v1r4,
     TrackTools v2r11, GlobalReco v6r7
  . Remove references to LHCbDefinitions includes

- In RichRecSys v3r1, RichGlobalPID v3r1, RichLocalPID v3r1, RichPIDMerge v2r3,
     RichRecAlgorithms v2r5, RichRecMCTools v2r8, RichRecMonitors v2r7,
     RichRecQC v2r8, RichRecTools v3r8, RichTrgGlobalPID v3r4
  . Adapt to new RICH namespaces


</PRE><H1><A NAME=v4r0>2007-01-23 RecSys v4r0</A></H1><PRE>
This version uses Gaudi v19r1 and LHCb v22r0.

- Packages updated: TrackFitEvent v3r0, TrackSys v4r0, RichRecSys v3r0,
    VeloTools v1r1, PatFitParams v2r3, TrackAssociators v2r3,TrackCheckers v2r11,
    PatKShort v1r3, PatUtils v1r3, PatChecker v2r111, RecAlgs v1r3,
    RichLocalPID v3r0, RichGlobalPID v3r0, RichPIDMerge v2r2,
    RichRecAlgorithms v2r4, TrackExtrapolators v2r8, TrackFitter v2r12,
    TrackProjectors v2r9, TrackUtils v1r10, TsaAlgorithms v2r0

- In RecSys v4r0, TrackSys v4r0
  . Remove obsolete ApplicationMgr.DLLs options from options files, no longer
    needed with new Gaudi plugin mechanism

- In TrackSys v4r0
  . In RecoTracking.opts, introduce a "Track" process phase with Pat, PreFit and
    Fit sequences for each track type, update other options files accordingly
  . Add NoFieldTracking.opts, contains options needed in addition to those
    defined in RecoTracking.opts. This file should be included in addition
    (and *after*) RecoTracking.opts to configure tracking for no magnetic field

- In TsaAlgorithms v2r0
  . Major new release. Faster, more flexible, more efficient, less ghosts, 
    less outliers, etc. - See release notes for details
  . Fix some untested status codes

- In TrackUtils v1r10
  . Add new TrackPrepareForFit algorithm

- In TrackExtrapolators v2r8
  . Bug fix in TrackExtrapolator, for the extrapolation to a plane:
    the distance point-plane is signed!

- In TrackProjectors v2r9
  . General consolidation of various projectors into less code
  . Remove of old non-trajectory projectors
  . Addition of derivatives wrt. alignment parameters
  . Add a 'projector selector' to replace the 'call-thru' master selector

- In TrackFitter v2r12, TrackCheckers v2r11
  . use the projector selector tool to obtain the relevant projector
    instead of using the master projector

- In TrackFitEvent v3r0, RichLocalPID v3r0
  . Fixes in requirements, for InstallArea

- In TrackFitEvent v3r0
  . Remove LHCbDefinitions dependency

- In PatFitParams v2r3, TrackAssociators v2r3, PatKShort v1r3, PatUtils v1r3,
     PatChecker v2r11, RecAlgs v1r3, RichLocalPID v3r0, RichPIDMerge v2r2,
     RichRecAlgorithms v2r4, TsaAlgorithms v2r0
  . Use DECLARE_xxx_FACTORY macros, needed for Gaudi v19r0 plugins

- In VeloTools v1r1, PatFitParams v2r3, PatKShort v1r3
  . Get SystemOfUnits.h from GaudiKernel

</PRE><H1><A NAME=v3r14p1>2006-12-06 RecSys v3r14p1</A></H1><PRE>
This version uses Gaudi v18r10 and LHCb v21r12. It is identical to v3r14 but 
with the HLT packages removed

- Packages removed: HltCommon     - moved to new HLT project
                    HltTracking   - moved to new HLT project
                    HltHadAlley   - moved to new HLT project
                    HltRecChecker - moved to new HLT project
                    HltMuon       - moved to new HLT project
                    HltMuonAlley  - moved to new HLT project

</PRE><H1><A NAME=v3r14>2006-12-04 RecSys v3r14</A></H1><PRE>
This version uses Gaudi v18r10 and LHCb v21r12.

- Packages updated: PatVeloTT v2r8, PatForward v2r10, PatCheckers v2r10,
    PatPV v2r4, TrackFitEvent v2r7, TrackTools v2r10, TrackFitter v2r11,
    TrackUtils v1r9, TrackPython v2r5, TrackCheckers v2r10, TrackIdealPR v2r8,
    TrackMatching v2r10, TrackProjectors v2r8, TsaAlgorithms v1r6, CaloReco v4r6,
    CaloPIDs v4r5p1, GlobalReco v6r6 RichRecQC v2r7, RichRecMCTools v2r7,
    RichRecMonitors v2r6, RichRecTools v3r7, RichRecSys v2r7

- In PatVeloTT v2r8
  . Fix a memory leak

- In PatForward v2r10
  . Improved PatSeeding and related tools, to get higher efficincy and lower
    ghost rate, with improved speed.
  . Filter T-station ghost at the end of PatForward, killing 1.7% ghosts without
    much effect (1 per mil) on efficiency. 

- In PatChecker v2r10
  . Compute the event averaged ghost rate, as this is now the official number
  . Add monitoring for strange daughters in Velo tracks too.
  . MissingSeed prints also missed long over 5 GeV and missed strange daughters
    of all momentum

- In PatPV v2r4
  . Adjust chi2 cut in PVFitterTool

- In TrackFitEvent v2r7:
  . Changed VeloRMeasurement and VeloPhiMeasurement to use offline cluster 
    centroid calculation in trajectory
  . FitNode: Renamed predictedStateRev to predictedStateDown and predictedState
             to predictedStateUp

- In TrackTools v2r10
  . New tool: TrackInterpolator
  . Adapted LongTrackReferenceCreator so that it can be used when refitting
    tracks from DST

- In TrackUtils v1r9
  . Add test to speed up TrackPrepareVelo: speed improvement by factor 3!

- In TrackFitter v2r11
  . TrackKalmanFilter:
    + Fix propagation of error return of biSmooth() step
    + Adapted to new State naming conventions in FitNode
    + New FitUpstream job-option, must be consistent with TrackMasterFitter one
  . TrackMasterFitter: use gsl_pow_2 instead of pow(x,2.)
  . Fix possible uninitialised variable in a printout message
 
- In TrackPython v2r5
  . gtracktools module simplified - better usage of latest GaudiPython
    functionality
  . MCTrackInfo class exposed

- In TrackCheckers v2r10
  . Added TrackCheckerNT, an NTuple writing class
  . Added subdirectory scripts for ROOT macros which process the NTuple
  . Added a few ROOT macros to do something with the NTuple

- In TrackIdealPR v2r8, TrackCheckers v2r5, TrackMatching v2r10, 
     TrackTools v2r10, TrackProjectors v2r8,
  . Check return code from TrajPoca minimize method

- In CaloReco v4r6
  . Update CaloECorrection.cpp & CaloECorrectionParam.opts for electron calibration
  . Update CaloMergedPi0Alg and CaloXCorrection tools
  . Update MergedPi0Rec.opts
  . DC06 tuning for merged pi0

- In CaloPIDs v4r5p1
  . Removed warning " ... very priliminary version ... " from CaloID2DLL.cpp

- In GlobalReco v6r6
  . Add ProtoPTupleAlg which produces a simple ntuple for combined DLL tuning
  . Split of calculation of combined DLL values in ChargedProtoPAlg into new
    dedicated algorithm ChargedProtoCombineDLLsAlg
    ChargedProtoCombineDLLsAlg can then be run in DaVinci to 'recalibrate'
    the combined DLL values as the user requires
  . Remove CaloPID default values
  . Minor update to ChargedProtoPAlg to force ProtoParticle to have same
    key as its parent Track.

- In RichRecQC v2r7
  . Improvements to monitors

- In RichRecMCTools v2r7
  . Update MC truth tool
  . Improve pixel creator from signal only too

- In RichRecMonitors v2r6
  . Add new monitor to study the properties of ghost tracks in the RICH system
  . Improvements to expert monitors

- In RichRecTools v3r7
  . Update default fit chi^2 cut value from 100 to 10
  . Remove hack for RICH1 beam pipe in track segment maker and use new 
    DeRich beam pipe objects
  . Add ability to take beam pipe into account during ray tracing in the
    geometrical efficiency tool
  . Add ability to reject reconstructed photons that might have had to cross
    the beam pipe
  . Add new pixel creator tool that can simulate additional RICH 
    inefficiencies by randomly removing hits
  . Update RichDetailedTrSegMakerFromRecoTracks to get *ALL* its radiator 
    intersections from the RichRadiatorTool instead of directly from the RichDet 
    radiator objects

- In RichRecSys v2r7
  . Various updates to the default options

</PRE><H1><A NAME=v3r13>2006-11-07 RecSys v3r13</A></H1><PRE>
This version uses Gaudi v18r10 and LHCb v21r11.

- Packages updated: CaloPIDs v4r5, CaloReco v4r5, TrackSys v3r6,
    TrackMCTools v2r8, TrackFitEvent v2r6, TrackFitter v2r10,
    TrackProjectors v2r7, TrackUtils v1r8, TrackCheckers v2r9, PatVelo v2r10, 
    PatVeloTT v2r7, PatForward v2r9, PatChecker v2r9, RichRecSys v2r6, 
    RichRecTools v3r6, RichRecMCTools v2r6, RichRecMonitors v2r5,
    RichRecQC v2r6, HltCommon v1r1, HltTracking v1r2, HltHadAlley v1r1,
    HltRecChecker v1r1, HltMuon v1r1, HltMuonAlley v1r1 

- In CaloPIDs v4r5
  . In requirements change CALOPIDOPTS variable to CALOPIDSOPTS, to be standard
  . Added DC06 PIDs and DLL hist for different types tracks for PIDe/mu
    (Ecal, Hcal, Prs). For BremPID - still old PIds and hist

- In CaloReco v4r5
  . added new DLL hist for Calo PIDe/mu (CaloPIDs_DC06_v1.root) in ECAL, HCAL, 
    Prs for different types of tracks
  . old hist for Brem PIDe (CaloPIDs.root)
  . Preliminary setting for DC06 (CaloECorrections.opts)
  . fix Cluster CaloPosition in CaloMergedPi0Alg.cpp
    (was undefined  when  cluster on-Demand is requested)

- In TrackSys v3r6
  . Move VeloTT after Forward, Match, KShort in RecoTracking.opts

- In TrackMCTools v2r8
  . Added job-option flag "CorrectSlopes" in IdealStateCreator that can be set to
    apply a correction for the magnetic field effect in the slopes of the MCHit.

- In TrackFitEvent v2r6
  . Added unbiasedResidual and errUnbiasedResidual to FitNode.
  . Renamed biState to predictedStateRev (rev stands for reverse fit) in FitNode

- In TrackFitter v2r10
  . Added job option flag "UnbiasedResiduals" to calculate the unbiased
    residuals. Default is false.
  . Fixed small decrease in efficiency for match tracks: the prediction and
    smoother step in the bidirectional fit are not applied for the first node.
  . Calculate unbiased residual in bidirectional smoother step

- In TrackProjectors v2r7
  . TrajXxxProjectors: the B-field is now determined from the position of the
    reference vector

- In TrackUtils v1r8
  . Bug fix in TrackPrepareVelo  
  . Add FirstMeasurement state to T state list for DST writing  
  . TrackFromDST keeps the key of the original track in the "best" container
  . Modified TrackPrepareVelo so that Velo tracks ancestors of tracks in the
    "best" container can be ignored

- In TrackCheckers v2r9
  . Improvements in ExtrapolatorChecker: include plots of q/p pull, adapted
    binning, added seperate plots for long extrapolations, apply correction on
    slopes

- In PatVelo v2r10 
  . PatVeloGeneric - added flagged option to propagate tracks seeds forward
  . Changed default alignment procedure to use misalignment in from Sensor to 
    Velo half box. Then correct the position of the track to the global frame 
    after fitting in PatVeloSpaceTracking

- In PatVeloTT v2r7
  . removed MC checks (inside ifdef)
  . modifications for off-line mode:
    - time optimization by reducing number of Kalman fit calls. PatVeloTT called
      after Forward and Match to remove Velo tracks already used and 
      corresponding TT hits. 
    - Stored VTT tracks are after fit inside PatVeloTT

- In PatForward v2r9
  . Remove the use of Trajectory when decoding the IT/OT data. Cache the useful
    Trajectory information into PatOTModule and PatITSector (new object)
    Reduces the time of PatTCoordFromRaw form ~6.0 to 2.2 ms
  . New option "MeasureTime" in PatTCoordFromRaw to get detailed account of the 
    time spent in the decoding / sorting
  . New algorithm PatSeeding to construct tracks in the T stations. Need
    an auxiliary class PatSeedTrack and a tool PatSeedTool

- In PatChecker v2r9
  . Monitor the Seed tracks. Monitor for long tracks and also for daughters of
    strange particles produced near the beam axis.

- In RichRecSys v2r6 
  . More tunings to the DC06 options

- In RichRecTools v3r6
  . Improvements to track/pixel seperation tool, to better deal with
    tracks and pixels on different sides of the detectors
  . Improvements to the various CK theta resolution tools
  . Improvements to RICH1 beampipe hole hack in the detailed track segment maker
  . Tweaking of the treshold information
  . Add ability to apply small scalings to reconstructed CK theta values
  . Various debug printout improvements
  . Use Gaudi::Math:cbrt for cube root

- In RichRecMCTools v2r6
  . Use new base class method in track creator to store HPD panel points

- In RichRecMonitors v2r5
  . Improvements to photon geometry monitor

- In RichRecQC v2r6
  . Improvements to PID monitoring

- In HltCommon v1r1
  . src/HltEnd setting default options only to deal with summary
  . src/HltL0Monitor monitoring the L0
  . more histos in HltSequencer, and some extra operations in HltEnd

- In HltTracking v1r2
  . HltTracking setting timers and improve loadTracks
  . HltTracking adding configuration for MuonForward

- In HltHadAlley v1r1
  . Adding extra functionality

- In HltRecChecker v1r1
  . src/HltRecVertices to check the PV reconstruction
  . src/HltRecUtils utilities to handle the MC

- In HltMuon v1r1
  . Compatible with new HltTracking and HltMuonAlley

- In HltMuonAlley v1r1 
  . Compatible with new HltTracking and HltEvent

</PRE><H1><A NAME=v3r12>2006-10-27 RecSys v3r12</A></H1><PRE>
This version uses Gaudi v18r9 and LHCb v21r10.


</PRE><H1><A NAME=v3r11>2006-10-24 RecSys v3r11</A></H1><PRE>
This version uses Gaudi v18r8 and LHCb v21r9.

- Packages removed: MuonRec - algorithm moved to MuonDAQ
- Packages updated: TrackSys v3r5, TrackExtrapolators v2r7, TrackMCTools v2r7,
    TrackFitter v2r9, TrackIdealPR v2r7, TrackCheckers v2r8, PatVelo v2r9,
    PatVeloTT v2r6, PatChecker v2r8, TsaAlgorithms v1r5, TrackPython v2r4,
    CaloReco v4r4, HltTracking v1r1, TrackMatching v2r9, PatPV v2r3,
    RichRecSys v2r5, RichRecQC v2r5, RichRecMCTools v2r5, RichRecMonitors v2r4,
    RichRecAlgorithms v2r3, RichRecTools v3r5, MuonID v4r4

- In TrackSys v3r5
  . Added new file TrackChecking.opts, for use in Brunel ExpertCheck.opts 
  . Tracking options re-structured for better readability
  . Removed unnecessary option from TsaSeeding.opts

- In TrackExtrapolators v2r7
  . Reduce number of warnings by better use of Warning method

- In TrackMCTools v2r7
  . All options names capitalized to comply to conventions

- In TrackFitter v2r9
  . Clean up warning messages
  . Correct state at first measurement on backward tracks
  . Fixed inconsistency in option name (for case-sensitive options parser)
  . Fix bug affecting the final chi2 of the track and the outlier removal.

- In TrackMatching v2r9
  . sqrtless version (saves some time ?)
  . Retune presented in TRec on 2006-10-16

- In TrackIdealPR v2r7
  . Added option to change the track selector tool

- In TrackCheckers v2r8
  . Added new histograms to TrackChecker and adapted some binnings

- In TrackPython v2r4
  . Exposed missing tracking tools to Python:
  . Exposed all existing tracking Monte Carlo tools to Python:
  . Added declarations for all these tools in the gtracktools module

- In PatVelo v2r9,
  . Fix in PatVeloRTracking : Adding the cluster on the other side was
    not working, due to a wrong direction flag.
  . Added to PatVeloRTracking an option to merge tracks sharing enough clusters.
    Not ON by default, as this decreases the clone rate, but also decreases
    the Space tracking efficiency
  . Allow several candidates in PatVeloSpaceTool, to get some increase in 
    efficiency at the price of some more ghosts and clones. A clean-up is added
    to merge tracks sharing many hits.
  . Bug fix in PatVeloAlignTool when using a large number of R alignment sectors
  . PatVeloGeneric can account for alignment without approximations
  . new option flag FullAlignment added
  . PatGenericFitter modified

- In PatVeloTT v2r5, v2r6
  . Modification and tuning of PatVeloTT package for off-line use. 
    Tuning of reconstruction for low momentum range down to about 0.8 GeV
    Due to low momentum tuning PatChecker reports more ghosts (20%) 
    Same algorithm should work for on-line with different parameters
  . Added multipurpose tool (Magnet and TT geometry): PatTTMagnetTool.cpp
    and its slave tool TableForFunction.cpp
  . Use Kalman fit to select best candidate (off-line)
  . Quality conditions for Hlt
  . Added options for Off-line and Hlt

- In PatPV v2r3
  . Correction of bugs (chi2=0, improve of error handling, setTechnique)
  . Put input tracks and output vertices location into options PatPV2D, PatPV3D

- In PatChecker v2r8
  . New algorithm PatVeloAddTruth to add truth information on PatVeloCoord.
  . New option in PatChecker to debug tracks found by Match but not by Forward
  . PatChecker monitors also the Best container, and builds the truth for Seed
    if present

- In TsaAlgorithms v1r5
  . Add duplicate removal in TsaCollector
  . Allow possibility to sort input data to data services
  . Add hits in the other boxes to allow for IT overlaps
  . Bug fix in IT/TTDataSvc
  . Add possibility to use 'L0 seed' y in TsaCollector
  . Tidy up TsaSeed some more and gain alittle speed
  . Changes in OTExpectedHits to gain speed 

- In CaloReco v4r4
  . Modify CaloMergedPi0Alg to allow the separate creation of CaloClusters
    and CaloHypos
  . Add DVCaloRecoOnDemand.opts: CaloDigits and CaloClusters on-Demand for use in
    DaVinci

- In RichRecSys v2r5
  . Various updates to the options
  . Add algorithm to start of reco sequence that just triggers the RICH
    DAQ decoding. Useful for timing studies.

- In RichRecQC v2r5
  . Add simple HPD # hits and hit map monitors (inspired by TB)
  . Add more options to produce PID tables for different DLL cuts

- In RichRecMCTools v2r5
  . Adapt to changes in RichTrackSegment

- In RichRecMonitors v2r4
  . Update test algorithm to new RichTrackSegments
  . Update of the Alignment monitor. It can be added to the Check or Moni 
    sequence using the appropriate options file.

- In RichRecAlgorithms v2r3
  . Store expected number of photons per segment/hypo in summary information

- In RichRecTools v3r5
  . Adapt to new RichTrackSegment 
  . Updates to functional CK resolution tool
  . Replace pow(x,1/3) with cbrt(x) (much faster)
  . Replace sin(acos(cosgamma)) with sqrt(1.0-cosgamma*cosgamma) (also faster)
  . Add missing property to interpolated CK res tool for Ks tracks

- MuonID v4r4
  . FOI has now 3 parameters
  . new FOI tuning
  . new DLL fit

- In HltTracking v1r1
  . Use Hlt as prefix of the track location from the Pat
  . Make the mode "select" the default of the track selector
  . Protect HltTracking against initialization failures

</PRE><H1><A NAME=v3r10>2006-10-03 RecSys v3r10</A></H1><PRE>
This version uses Gaudi v18r7 and LHCb v21r8.

- Packages removed:  PatTools           - moved to LHCb
- Packages added:    HltCommon     v1r0 - Common algorithms and tools for Hlt
                     HltTracking   v1r0 - Steering the tracking by Hlt
                     HltHadAlley   v1r0 - Algorithms for the HLT hadron alley
                     HltRecChecker v1r0 - Checking algorithms for HLT reco.
                     HltMuon       v1r0 - Muon reconstruction for triggers
                     HltMuonAlley  v1r0 - Decision algorithms for muon trigger
- Packages modified: TsaAlgorithms v1r4, CaloReco v4r3, CaloPIDs v4r4
    PatVeloTT v2r4, PatVelo v2r8, PatKShort v1r2, PatCheckers v2r7, 
    PatForward v2r8, TrackFitter v2r8, GlobalReco v6r4, RecAlgs v1r2,
    TrackAssociators v2r2, TrackSys v3r4, PatFitParams v2r2, TrackUtils v1r7,
    TrackCheckers v2r7

- In TsaAlgorithms v1r4
  . Add functionality to make Tsa::Clusters from TT hits
  . Add hit collection tool as used by trigger in L0 confirmation studies
  . Changes to allow seeding to be run with selected hits as in L0 confirmation
  . Speed up by a few ms  
  . New tuning of seeding as reported at T-Rec on 25th September
  . Hot events rejected and hot OT modules cuts relaxed 

- In CaloReco v4r3
  . Remove CaloBank.opts (moved to CaloDAQ as CaloBanksHandler.opts)

- In CaloPIDs v4r4
  . bug fix for invalid linear state extrapolation 

- InPatVeloTT v2r4
  . Speed-up decoding by removing a test on valid TT channel ID and avoid
    computing of sqrt(12.);
  . Cleaning and small modifications for HLT

- In PatVelo v2r8
  . Changes for HLT, to allow selection of 2D tracks to process in 3D
  . works with ACDC2 test beam DATA (needs temporary ACDC2 flag)

- In PatKShort v1r2
  . Improve selection: Make the x tolerance P dependent
  . Fix a bug in removal of the first(s) stereo hits
  . Change to false the default for removing seeds used by the matching

- In PatCheckers v2r7
  . For KShort track, select daughters form strange particles only for counting
    efficiencies.
  . Option to debug the not-found good KShort tracks
  . Ignore electrons in PatChecker counting.

- In PatForward v2r8
  . Two new parameters for zMagnet. Improve slightly the efficiency.
  . Call to updateTable() for the track container, for HLT generic
  . Use a new way to collect the stereo coordinates, similar to the selection
    of X groups. Reduces the ghost rate and increases slightly the efficiency
    for high momentum tracks.

- In TrackFitter v2r8
  . Improved calculation of noise matrix in predictReverseFit(). Fast
    bidirectional fit (storeTransport=true) is now (almost) as good as slow one.
  . Using the reference state for extrapolating. This improves the dp/p
    resolution for forward tracks.

- In GlobalReco v6r4
  . include CaloDigit (Spd/Prs) info in NeutralProtoP and ChargedProtoP.

- In RecAlgs v1r2
  . Adapt RecInit to get event number and run number from DAQ/ODIN

- In TrackAssociators v2r2
  . Fix a typo in a linker check

- In TrackSys v3r4
  . Changes to Velo fit options: use linear extrapolator, do not apply dEdx
    correction, do not extrapolate to Rich1

- In PatFitParams v2r2
  . Use Root NTuyples
  . Fit with zReference = 8520, optimal performance

- In TrackUtils v1r7
  . Fixed probable bug in TrackPrepareVelo, wrong indices in vec
  . New algorithm TrackFromDST: it classifies the tracks given as input
    according to their History / pattern recognition algorithms

- In TrackCheckers v2r7
  . bug fix in the purity calculations in the TrackChecker
 
</PRE><H1><A NAME=v3r9>2006-09-05 RecSys v3r9</A></H1><PRE>
This version uses Gaudi v18r7 and LHCb v21r7.

Changes since last official release (v3r7): 

- New packages: PatKShort v1r1 - resurrected
                TrackSys  v3r3 - defines job options for track reconstruction
- Packages modified: PatTools v2r6, PatVeloTT v2r3, PatForward v2r7, 
    PatChecker v2r6, TrackCheckers v2r6, TrackExtrapolators v2r6,
    TrackMCTools v2r6, TrackTools v2r9, TrackUtils v1r6, TrackMatching v2r8,
    TrackPython v2r3, TsaAlgorithms v1r3, RichRecSys v2r4, RichGlobalPID v2r4,
    RichLocalPID v2r3, RichPIDMerge v2r1, RichRecAlgorithms v2r2,
    RichRecMCTools v2r4, RichRecMonitors v2r3, RichRecQC v2r4, RichRecTools v3r4,
    RichTrgGlobalPID v3r3

- In Reco.opts:
  . Take tracking sequences from $TRACKSYSROOT/options/RecoTracking.opts

- In PatKShort v1r1
  . Adapt to new TT detector element, code and tuning improvements

- In PatTools v2r5, v2r6
  . Add a highThreshold data member to PatTTCoord, set by constructor.
  . Add a rl data member to PatTCoord, to force the right/left OT ambiguity.

- In PatVeloTT v2r3
  . Decode and save the high threshold bit for TT coordinate
  . Don't use the cluster size to compute the error on TT coordinate

- In PatForward v2r7
  . Many changes to optimise the ghost rate. 
  . Implement (but do not use) another way to select stereo hits
  . Remove neighbouring IT clusters

- In PatChecker v2r5, v2r6
  . Fix truth association for IT when several MC in the same strip.
  . Purity and hit efficiency for Forward and Match measured only in T part
  . Create the truth information for Tsa and Match tracks
  . Change the seed container to be Tsa container
  . Add TT counter for Match and KShort tracks

- In TrackCheckers v2r6
  . added errors on true states to pull distributions
  . added new histograms
  . small fixes and redefinitions of histograms IDs
  . new properties capitalized, to meet conventions
  . added to TrackMatchChecker possibility to use other "add TT clusters" tools

- In TrackExtrapolators v2r6
  . changes TrackMasterExtrapolator:
    + code for state corrections removed. Now using state correction tools
    + small code improvements for speed

- In TrackMCTools v2r6
  . Bug fixes in IdealStateCreator

- In TrackTools v2r8, v2r9
  . Update the Pt kick tool parameters
  . TrackCloneFinder: "CompareAtLHCbIDsLevel" flag set to false
  . improvements/clean-up in TrackCloneFinder and MeasurementProvider
  . New tools for state corrections (from code previously in master extrapolator)
    + StateSimpleBetheBlockEnergyCorrectionTool
    + StateElectronEnergyCorrectionTool
    + StateThickMSCorrectionTool
    + StateThinMSCorrectionTool
  . Corrected electron dE/dx formula

- In TrackUtils v1r5, v1r6
  . Many code and speed improvements to TrackEventCloneKiller - including:
    + ancestor tracks removed from tracks to be considered and flagged as clones
    + skip clone comparison between tracks in same container
  . bug fix corrected in option name of TrackPrepareVelo
  . Kshort tracks from PatKShort added to TrackEventCloneKiller's default input

- In TrackMatching v2r7, v2r8
  . Only allow hits with y consistent with track to be added to match track in TT
  . Add possibility to use other cluster tools
  . Retune

- In TrackPython v2r2, v2r3
  . added pre-defined class and tools declarations in gtracktools module
  . updated to new location of "poca" tool
  . added ITrackInterpolator, ITrackPtKick, ITrajPoca, IStateCorrectionTool

- In TsaAlgorithms v1r2, v1r3
  . Clean up TsaOTClusterCreator: factor 10 faster
  . In TsaSeedTrackCnv, only use selected hits on tracks (removes outliers)
  . Many optimizations in TsaSeed: speed down from 380 to 175 ms
  . Updates in the data classes: speedier, tidier etc
  . Change ExpectedHits interface to add a sector
  . Include IT seeding and second pass stub finding

- In RichRecSys v2r4, RichGlobalPID v2r4, RichLocalPID v2r3, RichRecMCTools v2r4,
     RichRecAlgorithms v2r2, RichRecMonitors v2r3, RichRecQC v2r4,
     RichRecTools v3r4, RichTrgGlobalPID v3r3
  . Adapt to changes in RichTrackSelector

- In RichRecSys v2r4
  . Update track CK resolution options
  . Update pixel suppression options

- In RichGlobalPID v2r4
  . Retuning of the likelihood minimisation algorithm, removing old speed
    optimisations and improving the final maximisation

- In RichPIDMerge v2r1
- In RichRecMCTools v2r4
  . Add MC truth track selector
  . Update MCTruth association tool to handle option weights for track
    associations
  . Updates due to changes in RichTraceMode
  . Adapt to new MCRichDigit

- In RichRecMonitors v2r3
  . Minor improvements to monitor algorithms
  . Updates due to changes in ray tracing
  . Add algorithm RichTrackRayTraceTest that tests ray tracing
  . Improvements to MC ring builder and track monitors

- In RichRecQC v2r4
  . Unpdate monitoring to include more background types
  . Add new histogram to RichRecoQC showing # photons versus CK theta
  . Tidy up job options a little
  . Modified RichRecoQC to produce histograms that require no MC information.
    It can now be used also in the Monitor sequence.
  . Adapt to new MCRichDigit

- In RichRecTools v3r4
  . Add hack to radiator segment tool to reject tracks in the RICH1 beam pipe
    area. To be remove when XML description is updated to include the hole.
  . Tidy up Cherenkov resolution tools
  . Add RichTrackSelector tools (updated and moved from RichRecBase).
  . Adapt to changes in RichTraceMode and ray tracing tool interface
  . Adapt to new Ring and Pixel classes in RichRecBase
  . Update default track selection cuts to current best values

</PRE><H1><A NAME=v3r8>2006-08-21 RecSys v3r8</A></H1><PRE>
This version uses Gaudi v18r6 and LHCb v21r6. 
It was a version for development, never officially released

</PRE><H1><A NAME=v3r7>2006-08-04 RecSys v3r7</A></H1><PRE>
This version uses Gaudi v18r6 and LHCb v21r4.

- New packages: TrackSeeding v1r0 - First public version of Henk Jan's seeding

- Packages modified: RichGlobalPID v2r3, TrackProjectors v2r6, TrackMCTools v2r5,
    TrackIdealPR v2r6, TrackMatching v2r6, TrackTools v2r7, TrackFitter v2r7,
    TsaAlgorithms v1r1, PatForward v2r6, PatVelo v2r7, PatVeloTT v2r2,
    CaloPIDs v4r3, TrackCheckers v2r5
  
- In RecSys v3r7
  . Add Seed and Match tracks to Reco.opts
  . Remove artificially large errors in forward fit

- In RichGlobalPID v2r3
  . Adapt to backward incompatible changes in GaudiObjDesc v9r7

- In TrackProjectors v2r6
  . Set the OT L/R ambiguity according to the track fit, update at each iteration

- In TrackMCTools v2r5
  . IdealStateCreator: default state errors set to zero

- In TrackIdealPR v2r6
  . Set the z-position of the measurement based on the track (state) info.
  . small fixes for consistency and extra warning messages included

- In TrackMatching v2r6
  . Tune for DC 06
  . Add possibility to cut on pt of match - set to 50 MeV by default
  . Match chi2 is added to the track extra info
  . Many code improvements to gain speed

- In TrackTools v2r7
  . Protect against missing states, plus code improvements
  . Add Ttrack to the list of default selected track types in TrackSelector

- In TrackFitter v2r7
  . bi-directional fit by default
  . Reference information now set by default
  . Maximum 2 outliers removed by default

- In TrackFitter v2r7, TrackMatching v2r6, PatForward v2r6
  . Use the pre-defined z-positions related to state locations from the
    new file StateParameters.h

- In TsaAlgorithms v1r1
  . Add reference creator tool
  . Tune jobOptions in SeedTrack converter
  . Take p from pt kick method

- In PatVelo v2r7
  . Restructured the 3D pattern recognition to allow single RZ tracks to be 
    found as 3D tracks for the trigger. Two new tools to do this: 
    PatVeloSpaceTool and PatVeloTrackTool 

- In PatVeloTT v2r2, CaloPIDs v4r3
  . Fix uninitialized variables

- In GlobalReco v6r3
  . Add RichPIDsFromProtoParticlesAlg and MuonPIDsFromProtoParticlesAlg

- In TrackCheckers v2r5
  . New algorithm ExtrapolatorChecker, to check the consistency between
    Geant and the TrackExtrapolators.
  . Add L/R ambiguity checking

</PRE><H1><A NAME=v3r6>2006-07-24 RecSys v3r6</A></H1><PRE>
This version uses Gaudi v18r6 and LHCb v21r3.
It will be used in the stripped DST production phase of DC06 computing challenge.

- New packages:      TsaAlgorithms v1r0
- Packages modified: PatTools v2r4, PatPV v2r2, PatVeloTT v2r1, PatForward v2r5,
    PatVelo v2r6, TrackFitEvent v2r5, TrackUtils v1r4, TrackTools v2r6, 
    TrackFitter v2r6, CaloReco v4r2,CaloPIDs v4r2, GlobalReco v6r2, RecUtils v1r1

- In RecSys v3r6
  . Fixes to Reco.opts for more pedantic job options parser in Gaudi v18r6
  . Set reference trajectory in FitForward (Reco.opts)
  . Switch on outlier removal in FitForward for maximum 2 outliers (Reco.opts)

- In PatVelo v2r6
  . Moved algorithm code from PatVeloSector.h to a new PatVeloSector.cpp
  . Use inv_sqrt_12 const from LHCbDefinitions, instead of repeated calculation

- In TrackFitEvent v2r5
  . provide boost allocators for StateTraj class
  . add dictionary for FitNode class

- In PatTools v2r4
  . Use RecVertex instead of TrackVertex in PatDataStore

- In PatPV v2r2
  . Use RecVertex instead of TrackVertex
  . Use SMatrix::Inverse() instead of Sinverse(), for Root 5.12.00
  . Cleanups to speed up code

- In PatVeloTT v2r1
  . Pick up low threshold hits

- In PatForward v2r5
  . Allow low threshold clusters to be on track
  . Change cut on min p to 1 GeV

- In TrackUtils v1r4
  . Allow filtering of any set of states from any set of Tracks in TrackToDST
    and protect against missing states
  . Add bool "copyFailures" option to TrackContainerCopy, by default does not
    copy tracks that failed the track fit 

- In TrackFitter v2r6
  . Options "StatesAtMeasZPos" and "ZPositions" exclusive
  . State at first measurement always saved
  . Track fit set as failed when not possible to determine all the requested
    states on a track
  . Setting of states at measurements z-positions (when requested) handled
    correctly when outliers are removed
  . Clean-up of unnecessary methods/code
  . Improved debug/warning/error messages, for clarity

- In CaloReco v4r2, CaloPIDs v4r2
  . Fixes for migration to Gaudi v18r6 and Root v5.12.00

- In TrackTools v2r6
  . Add TrackVelodEdxCharge tool for calculating Velo charge from dE/dx
  . Remove unphysical terms from the parameterization in pt kick tool
  . Tune pt kick parameters for DC'06

- In GlobalReco v6r2
  . Add Velo Charge information to charged protoparticles

- In RecUtils v1r1
  . New algorithm to copy contents of ETC used as input to an output ETC that
    correctly links to the ouput DST

</PRE><H1><A NAME=v3r5>2006-07-07 RecSys v3r5</A></H1><PRE>
This version uses Gaudi v18r5 and LHCb v21r2.
It will be used in the reconstruction phase of DC06 computing challenge.

- Packages added:    RecUtils v1r0 - general purpose components linked to REC

- Packages modified: PatVelo v2r5, PatForward v2r4, PatPV v2r1, PatChecker v2r4,
    TrackTools v2r5, TrackProjectors v2r5, TrackUtils v1r3, TrackFitter v2r5,
    TrackMCTools v2r4, TrackExtrapolators v2r5, TrackCheckers v2r4,
    TrackMatching v2r5, TrackIdealPR v2r5, CaloReco v4r1, CaloPIDs v4r1,
    GlobalReco v6r1

</PRE><H1><A NAME=v3r4>2006-06-22 RecSys v3r4</A></H1><PRE>
This version uses Gaudi v18r5 and LHCb v21r1.
It is a pre-release for commissioning tests of the reconstruction for DC06.

- Packages added:    CaloReco   v4r0 - migrated to new event model, 1MHz r/o etc.
                     CaloPIDs   v4r0 - migrated to DC06
                     PatVeloTT  v2r0 - migrated to DC06
                     PatPv      v2r0 - migrated to DC06
                     GlobalReco v6r0 - migrated to DC06
- Packages modified: PatTools v2r3, PatForward v2r3, PatVelo v2r4,
    TrackAssociators v2r1, TrackCheckers v2r3, TrackFitter v2r4,
    TrackFitEvent v2r4, TrackExtrapolators v2r4, TrackIdealPR v2r4,
    TrackProjectors v2r4, TrackTools v2r4, TrackUtils v1r2, TrackMatching v2r4,
    MuonID v4r3, RichTrgGlobalPID v3r2, RichRecQC v2r3, RichRecMCTools v2r3,
    RichRecMonitors v2r2, RichLocalPID v2r2, RichGlobalPID v2r2,
    RichRecAlgorithms v2r1, RichRecTools v3r3, RichRecSys v2r3

</PRE><H1><A NAME=v3r3>2006-05-18 RecSys v3r3</A></H1><PRE>
This version uses Gaudi v18r4 and LHCb v21r0.
It is an (incomplete) release for commissioning of the reconstruction for DC06.

</PRE><H1><A NAME=v3r2>2006-05-03 RecSys v3r2</A></H1><PRE>
This version uses Gaudi v18r3 and LHCb v20r4.
It is an (incomplete) release for commissioning of the reconstruction for DC06.

</PRE><H1><A NAME=v3r1>2006-04-13 RecSys v3r1</A></H1><PRE>
This version uses Gaudi v18r3 and LHCb v20r3.
It is an (incomplete) release for commissioning of the reconstruction for DC06.

</PRE><H1><A NAME=v3r0>2006-03-23 RecSys v3r0</A></H1><PRE>
This version uses Gaudi v18r2 and LHCb v20r1.
It is the first (incomplete) release for commissioning of the software for DC06.

It breaks all backward compatibility and introduces many new features, including
a major redesign of event model classes following the review in Autumn 2006,
changes for the 1MHz readout, changes to the geometry to introduce detector
tilts and capability for misalignement, changes to replace CLHEP with MathCore,
as well as deployment of the new tracking software based on the new track model

All packages have been touched. Please look at release notes of the individual
packages for details.

</PRE><H1><A NAME=v2r2>2005-12-08 RecSys v2r2</A></H1><PRE>
This version uses Gaudi v17r2, LHCb v19r3. Backwards compatible for RTTC data

- Packages added:    PatKShort     - Reconstruct downstream tracks from seeds
                     TrackCheckers - Algorithms for checking tracks
                     TrackFitter   - Tools for fitting tracks
                     TrackPython   - Exposes track interfaces etc. to Python
                     TrackVeloTT   - Velo-TT pattern recognition algorithms
- Packages modified: PatSys v1r5, PatTools v1r3, PatChecker v1r3, PatVelo v1r5,
    PatFitParams v1r2, TrackExtrapolators v1r3, TrackFitEvent v1r5,
    TrackIdealPR v1r4p1, TrackMCTools v1r4, TrackProjectors v1r4,
    TrackTools v1r3, TrConverters v1r5, CaloMoniDst v2r1

- In PatTools v1r3:
  . Add class IncreaseingByZ in PatTTCoord

- In PatChecker v1r3:
  . Adapt the truth associator for Seed, Match and KsTrack: List of containers
    in PatTrack2MCParticle.
  . LHCbID linker to MCParticle: the SpareBits field of the LHCbID is cleared so
    that it works with LHCbIDs created by the Measurements
  . PatChecker has adapted counters for Match, Seed and KsTrack.
  . Add new algorithm PatKShortChecker, adapted from Tr/TrKShort KShortMonitor.

- In PatVelo v1r5:
  . Added the PatVeloAlignTool code to make the pattern recognition 
    (partially) independent of the known mis-alignments

- In PatFitParams v1r2:
  . Add new algorithm to fit the KShort parameters, adapted from Tr/TrKShort
 
- In TrackExtrapolators v1r3:
  . TrackTransportStep.h helper class removed
  . Added extrapolators selectors:
    The TrackMasterExtrapolator chooses the extrapolator to use via a set of
    tools that work as follows:
    + TrackSimpleExtraSelector:   just has one extrapolator
    + TrackDistanceExtraSelector: chooses between 2 based on stepsize
    + TrackLongExtraSelector:     chooses between two except in the T stations
                                  where it takes the short distance always
  . Bug fix in master extrapolator

- In TrackFitEvent v1r5:
  . VeloPhiMeasurement: 
    Added resolution(), needed to determine the error in Carthesian coordinates.
    Old method errMeasure() returns the error in terms of the phi angle.
  . FitNode: 
    Added member m_transportDeltaZ to cross check transport data correctness.
    Removed obsolete data member filtered state. 
    Data member m_predictedState is not a pointer anymore.

- In TrackIdealPR v1r4p1:
  . Code clean-ups
  . Added the estimate for R to the VeloPhiMeasurement.
  . Changes to comply with MC associations as in TrackAssociators

- In TrackMCTools v1r4:
  . Propagation of changes in enum methods interfaces from TrackEvent

- In TrackProjectors v1r4:
  . Adapt to changes in VeloPhiMeasurement. Now using method resolution().
  . New tool RayIntersector, computes the distance between two straight lines
   (rays) and the derivative of that distance.
  . TrackOTRayProjector computes the OT projection using the RayIntersector
 
- In TrackTools v1r3:
  . Minor code cleanups, possible memory leak corrected
  . MeasurementProvider tool sets Status flag for tracks with Measurements.

- In TrConverters v1r5
  . TrStoredTrack2TrackCnv fills the Tracks with measurements and LHCbIDs

- In CaloMoniDst v2r1
  . Use only Cnv tracks in monitoring

</PRE><H1><A NAME=v2r1>2005-11-22 RecSys v2r1</A></H1><PRE>
This version uses Gaudi v17r2, LHCb v19r2. Backwards compatible for RTTC data

- Packages added:    TrackAssociators - Associators to MC Truth for Tracks
- Packages modified: RichHltSys v1r2, RichTrgGlobalPID v2r1, RichTrgTools v1r2,
    RichRecSys v1r19, RichRingRefit v1r11, RichLocalPID v1r13, RichRecQC v1r12,
    RichGlobalPID v1r11, RichRecAlgorithms v1r1, RichRecTools v2r16, 
    RichRecMCTools v1r10, RichRecMonitors v1r1, GlobalReco v5r1, CaloReco v3r0,
    CaloPIDs v3r0, CaloMoniDst v2r0, PatSys v1r3, PatVelo v1r4, PatVeloTT v1r3,
    PatForward v1r2, MuonID v3r9p1

- In RichRecSys v1r19
  . Update requirements and job options for:
    + Support for new track event model
    + Clean up usage of context()
    + Support for spherical secondary mirrors

- In RichTrgGlobalPID, RichTrgTools, RichRingRefit, RichLocalPID, RichRecQC,
     RichRecAlgorithms, RichRecTools, RichRecMCTools, RichRecMonitors
  . Updates for use of context() in base classes

- In RichTrgGlobalPID, RichRecQC, RichRecMonitors
  . Update to new base classes

- In RichTrgGlobalPID, RichRecQC, RichRecTools
  . Updates for new tracking event model

- In RichTrgTools
  . Improvements to RichTrackSegment creators

- In RichRecQC
  . Reactivate RichRecoQC algorithm

- In RichGlobalPID
  . Improvements to HLT/Offline running

- In RichRecTools
  . Adapt to changes in RichDAQ
  . Adapt to changes in RichTrackSegment and RichGeomPhoton creators
  . Move RichParticleProperties tool to RichTools package

- In RichRecMCTools
  . Improvements to photon reconstruction interface to avoid data copying
  . Improvements to MC truth tool. Delegate more to the lower level tool.
  . Some improvements to Cherenkov theta smearing tool

- In RichRecMonitors
  . Split up RichPhotonMonitor into smaller dedicated monitors.
  . Added the option to pre book histograms in RichAlignmentMonitor

- In GlobalReco v5r1
  . Adapt to change in RichPID interface

- In CaloReco v3r0, CaloPIDs v3r0, CaloMoniDst v2r0
  . Adapt to new Track model

- In PatVelo v1r4, PatVeloTT v1r3, PatForward v1r2
  . Add status to Tracks

- In PatVelo v1r4
  . Fixed bug in how code mapped sectors to zones in R sensors
    (reduce clone rate in RZ tracking)

- In MuonID v3r9p1
  . Various improvements (c.f. DaVinci v12r14)

</PRE><H1><A NAME=v2r0>2005-11-15 RecSys v2r0</A></H1><PRE>
This version uses Gaudi v17r2, LHCb v19r1. Backwards compatible for RTTC data

- Packages added:    MuonMoniDst v1r0 - Monitoring algorithms for Muon from DST

- Packages modified: PatSys v1r3, PatTools v1r2, PatVelo v1r3, PatVeloTT v1r2,
    PatPV v1r0p1, PatForward v1r1, PatChecker v1r2, PatFitParams v1r1,
    TrackFitEvent v1r4, TrConverters v1r4, TrackProjectors v1r2p1,
    TrackMatching v1r1, TrackMCTools v1r3, TrackIdealPR v1r3, TrgSys v2r11,
    TrgMuon v1r3, TrgConverter v1r0p1, L1Reco v7r2, RichRecSys v1r18p1,
    RichHLTSys v1r1p2, TrFitEvent v4r10

- In PatTools v1r2
  . Add projection number to PatTTCoord and sort according to it
  . Fix wrong initialization of an iterator, causing random crashes in destructor

- In PatVelo v1r3
  . Set the history value of the track

- In PatVeloTT v1r2
  . New algorithm to add truth information to the PatTTCoord, for debugging
  . Test wafer pointer before using it in call to STWafer::isInVDeadZone()

- In PatForward v1r1
  . Compute state after T stations, with momentum. Add momentum to firstState
  . Ghost rejection using TT information, add TT measurements to track
  . Refit X after adding stereo hits before fitting Y. Slightly slower, but
    improves efficiency and ghost rejection
  . Add IPatForwardTool, to reconstruct one track at a time. PatForward becomes
    a simple loop on the input container

- In PatChecker v1r2
  . Count the expected hit according to the selected pattern in PatCounter

- In PatFitParams v1r1
  . Fit also the momentum. Remove the fit of the old parameters no longer used
  . Allow to use the fitted MC Velo track instead of the PatVelo found one

- In TrackFitEvent v1r4
  . add method to update measurements parameters
  . method name change in FitNode

- In TrackProjectors v1r3
  . Replace pow(x,3) by gsl_pow_3(x)

- In TrConverters v1r4
  . Added setHistory methods, tiny changes for speed optimization

- In TrgMuon v1r3
  . Provide a single algorithm for both HLT and MuonID muon track reconstruction
  . Add HltMuonRec for Muon identification of Velo tracks
  . Improved tuning of cuts, faster muon buffer decoding
  . Requires changes in HltGeneric sequence, see release notes

- In TrConverters v1r4, TrackMCTools v1r3, TrackMatching v1r1, TrackIdealPR v1r3,
     PatPV v1r0p1, PatForward v1r1, PatVelo v1r3, PatVeloTT v1r2,
     TrgConverter v1r0p1
  . Adapt to changes in TrackKeys etc. enums, and move to Track.h and State.h

- In L1Reco v7r2
  . Bug fix: needed three tracks to enter loop. Two should be enough

- In TrackFitEvent v1r4, TrFitEvent v4r10
  . Change to requirements to produce Reflex dictionaries

</PRE><H1><A NAME=v1r5>2005-09-21 RecSys v1r5</A></H1><PRE>
This version uses Gaudi v16r5, LHCb v18r9

- Packages added:    PatVeloTT v1r1 - Adaptation of TrgVeloTT to Pat project
                    PatForward v1r0 - New implementation of Forward track PatRec
                         PatPV v1r0 - Adaptation of L1Reco 2D prim vtx to Pat
                  PatFitParams v1r0 - Fit MC tracks to compute PatForward params
                 TrackMatching v1r0 - Adaptation of TrMatching to new Track model
- Packages modified: TrgSys v7r6, TrgVeloTT v8r1, L1Decision v5r2, PatSys v1r2,
                     PatTools v1r1, PatUtils v1r1, PatVelo v1r2, PatChecker v1r1
                     TrackTools v1r2, TrackMCTools v1r2, TrackIdealPR v1r2, 
                     TrackExtrapolators v1r2, TrTools v2r7, TrConverters v1r3

- In Reco.opts
  . Add conversion of Rec/FitTrack/Best into Rec/Track/Best (new track model)
    at the end of tracking sequence

- In TrgVeloTT v8r1
  . Port new implementation from DC04 branch. See details in v8r0 release notes
  . Remove BdlTool (moved to Det/Magnet), pick up IBdlTool interface from 
    LHCbKernel

- In L1Decision v5r2
  . Upgrade to accept multiple primary vertices

- In PatTools v1r1
  . Add containers for PatTCoord and PatTTCoord

- In PatUtils v1r1
  . Add PatTrack2TES algorithm to convert (L1) trcks in PatDataStore to standard
    TES tracks and containers

- In PatVelo v1r2
  . Changed the extra track flags definition from PatTrack to TrackKeys
    namespace, for future inclusion in the normal TrackKeys namespace.

- In PatChecker v1r1
  . Implement the checking of TT and Forwardtracks.
  . Use 'context' and no longer name for L1/HLT checking
  . Remove from PatTrack2MCParticle conversion from PatDataStore to TES tracks

- In TrTools v2r7, TrackTools v1r2
  . Remove BIntegrator tool (moved to Det/Magnet), pick up interface from new 
    location in LHCbKernel

- In TrConverters v1r3, TrackTools v1r2
  . Adapt to change in MeasurementProvider interface, and fix memory leaks

- In TrackMCTools v1r2, TrackIdealPR v1r2
  . Change names of components to avoid clashes with old event model versions

- In TrackExtrapolators v1r2
  . Improvement to Parabolic extrapolator
  . Remove temporary vectors from TrackMasterExtrapolator

</PRE><H1><A NAME=v1r4>2005-07-25 RecSys v1r4</A></H1><PRE>
This version uses Gaudi v16r5, LHCb v18r8

- Package added: TrgConverter v1r0 - Coverts Trg tracks into new track model

- Packages modified: TrgSys v7r5, TrgVelo v7r4, TrgMuon v1r2p3, TrgForward v5r2,
                     L1Reco v7r1, L1Decision v5r1p1, PatSys v1r1, PatVelo v1r1, 
                     RichRecSys v1r18, RichLocalPID v1r12, RichHltSys v1r1p1,
                     TrackFitEvent v1r2, TrackTools v1r2, TrConverters v1r2, 
                     TrackProjectors v1r2, TrackExtrapolators v1r1

- In Reco.opts
  . Change name of DecodeRawVelo to BrunelDecodeRawVelo, to avoid clash when 
    running Reco sequence after HLT

- In DoxyFile.cfg
  . Get dot tool configuration from dottools.cfg, rather than from makedoc.py
  . Exclude L1Decision root macros from generated documentation

- In L1Decision v5r1p1
  . Fix 2kB/event memory leak in L1Info.cpp

- In L1Reco v7r1
  . For 2D tracks, get phi-zone geometry from Velo detector element. Fixes L1
    accept rate problem in RTTC data
  . Retune cuts to recover nominal Velo-TT matching working point

- In TrgVelo v7r4, PatVelo v1r1
  . Modified code to use reversed R sensors properly

- In TrgMuon v1r2p3
  . Fix in usage of std::vector.reserve() to fix execution problem on Windows

- In TrgForward v5r2
  . Fix decoding of ST Raw Bank, was always decoding one word beyond end of bank
  . Add support for OT RawBank v2

- In RichLocalPID v1r12
  . Fixes to prevent accesses to TES before main event processing.

- In TrackFitEvent v1r2, TrackTools v1r2, TrConverters v1r2, 
     TrackProjectors v1r2, TrackExtrapolators v1r1
  . Various updates to tools for new track model

</PRE><H1><A NAME=v1r3>2005-06-27 RecSys v1r3</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r7 (also CLHEP 1.9, ROOT 4.0)

- Packages added   : RichRecAlgorithms - MC free algs, replaces RichRecCommon
                     RichRecMonitors   - Expert Rich monitoring
                     PatSys            - New pattern recognition with new Track
                              (contains PatTools, PatUtils, PatVelo, PatChecker)
- Packages removed : RichRecCommon
- Packages modified: TrgSys v2r8, TrgPrimVertex v4r2, TrgMuon v1r2p2,
   RichRecSys v1r17, RichLocalPID v1r11, RichRecMCTools v1r9, RichRecTools v2r15,
   RichRingRefit v1r10, RichRecQC v1r11, RichHLTSys v1r1, RichTrgGlobalPID v2r0,
   RichTrgTools v1r1, TrackFitEvent v1r1, TrackIdealPR v1r1, TrackMCTools v1r1,
   TrackProjectors v1r1, TrConverters v1r1

- In Reco.opts
  . Remove RichRecCommon DLL, add RichRecAlgorithms DLL

- In TrgPrimVertex v4r2, TrgMuon v1r2p2
  . Fix several memory leaks, first seen in Moore v1r0

- In RichRecSys  v1r17
  . Update to photon reconstruction scheme
  . Update geometrical efficiency calculation parameters
  . Add options to run pixel create with forced-dead HPDs

- In RichGlobalPID v1r11
  . Minor speed update

- In RichTools v2r15
  . Various minor updates to existing tools
  . Add RichSepVCKthetaPhotonPredictor and RichSimplePhotonPredictor tools

- In RichRecMCTools v1r9
  . Add RichPhotonCreatorWithGaussianCKSmear tool

- In RichLocalPID v1r11, RichRecMCTools v1r9, RichRecQC v1r11, 
     RichRecTools v2r15, RichTrgTools v1r1
  . Adapt to changes in RichKernel and RichRecBase base classes

- In RichHLTSys v1r1, RichRecSys v1r17, RichLocalPID v1r11, RichGlobalPID v1r11, 
     RichRecMCTools v1r9, RichRecTools v2r15, RichRingRefit v1r10,
     RichTrgGlobalPID v2r0, RichTrgTools v1r1
  . Changes to allow HLT and offline reconstruction to run in same application

- In TrackFitEvent v1r1
  . type of measurement set in the constructor
  . ambiguity of OTMeasurement set also in the corresponding LHCbID

- In TrackProjectors v1r1
  . TrackMasterProjector can now handle all types of measurements

- In TrackIdealPR v1r1, TrackMCTools v1r1, TrConverters v1r1
  . Adapt to changes in TrackEvent classes

</PRE><H1><A NAME=v1r2>2005-06-10 RecSys v1r2</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r6 (also CLHEP 1.9, ROOT 4.0)

- Packages modified: RichRecSys v1r16p3, RichRecoQC v1r10p1, TrgSys v2r7,
    TrgVelo v7r3p2, TrgCalo v2r0p1, L1Decision v5r1, CaloReco v2r9, 
    CaloPIDs v2r6, CaloMoniDst v1r2

- In RecSys v1r2
  . Add options/Reco.opts, for setting up Reco phase of Brunel

- In RichRecSys v1r16p3, CaloReco v2r9, CaloPIDs v2r6:
  . Adapt job options to change in phase name from BrunelReco to Reco

- In RichRecoQC v1r10p1, CaloMoniDst v1r2
  . Adapt job options to change in phase name from BrunelMoni to Check

- In TrgSys v2r7
  . Modify Hlt.opts to allow running Hlt without running L1

- In TrgVelo v3r7p1
  . In Brunel.opts, change name of offline instances of Velo tracking algorithms,
    to avoid configuring online algorithms with offline tuning when both are
    run in the same job
  . Add property "nTracksMax". This is a dirty hack to allow throttling of L1
    trigger in RTTC. Default is 10000

- In L1Decision v5r1
  . Fix bug in accessing L0Calo L1 bank, reduces L1 accept rate from ~11% to 7.5%
  . Add L1Info class to add L1Score information to L1Buffer, for RTTC monitoring

- In TrgCalo v2r0p1
  . Clean up requirements and fix doxygen warnings

</PRE><H1><A NAME=v1r1>2005-05-30 RecSys v1r1</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r5 (also CLHEP 1.9, ROOT 4.0)

- Packages added:    TrackExtrapolators v1r0, TrackTools v1r0, TrackMCTools v1r0,
                     TrackProjectors v1r0, TrackFitEvent v1r0, TrackIdealPR v1r0,
                     TrConverters v1r0
- Packages modified: CaloPIDs v2r5p1, CaloReco v2r8p2, GlobalReco v5r0,
    RichRecSys v1r16p2, RichRecTools v2r14p1, TrgSys v2r6, L1Decision v5r0

- In GlobalReco v5r0:
  . Major repackaging of job options to remove Panoramix dependency on DaVinci

- In CaloPIDs v2r5p1:
  . Minor changes CaloPIDsData algorithm (used for testing and PID tuning)

- In CaloReco v2r8p1:
  . Fix typo in CaloRecoOnDemand.opts, for /Event/Rec/Calo/ElectronMatch
  . Add CaloReCorrections.opts, moved from DaVinci

- In TrackExtrapolators v1r0, TrackProjectors v1r0, TrackMCTools v1r0,
     TrackTools v1r0, TrackFitEvent v1r0, TrackIdealPR v1r0, TrConverters v1r0
  . First release of Track Fit tools for new Track model

- In RichRecTools v2r14p1
  . Adapt to interface change in DetDesc v15r0

- In TrgSys v2r6
  . Add L1-RTTC.opts, to run L1 without using any L0 information, needed for RTTC

- In L1Decision v5r0
  . Adapt to DAQEvent v5r* L1Bank definitions, for RTTC compatibility
 
</PRE><H1><A NAME=v1r0>2005-05-13 RecSys v1r0</A></H1><PRE>
This version uses Gaudi v16r3, LHCb v18r4 (also CLHEP 1.9, ROOT 4.0). 
It contains the same package versions as in BrunelSys v26r3, LbComSys v1r3 
and DaVinciSys v13r1, except for:

. TrgTools is moved to LHCb
. TrgVelo v7r3: contains offline tuning for Brunel v26r3
. TrgVeloTT v7r0: fix decoding of RawBuffer for v1 of ST banks
                  remove fix to decode L1 buffer bug of DC04
. TrgCalo v2r0: Adapt decoding for RTTC data
. TrgSys  v2r4: use TrgVelo v7r3, TrgVeloTT v6r1, TrgCalo v2r0, remove TrgMuonID
                restore TrgCalo in HLT sequence
. LongTrack v1r15, TrKShort v1r6, VeloTT v1r13: updated to use STTools instead
                                                of ITAlgorithms
. CaloReco v2r8, CaloPIDs v2r5, CaloMoniDst v1r1: updated for new base classes 
                                     in CaloUtils, and removed all associators
. GlobalReco v4r9: Remove all Calo related associators, use Relations directly
</PRE>
