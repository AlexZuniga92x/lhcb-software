# $Id: requirements,v 1.47 2004-07-29 06:39:37 pkoppenb Exp $
# Created    : 05/02/2002
# Maintainer : P. Koppenburg
#
# Documentation on the requirement file can be found at
# http://cern.ch/lhcb-comp/Support/html/new_structure.pdf

package           DaVinciTools
version           v10r1

# Structure, i.e. directories to process. 
#============================================================================
branches          cmt doc options src Lib DaVinciTools

# Exported header files
#============================================================================
include_dirs     $(DAVINCITOOLSROOT)

# Used packages. 
#============================================================================
use  PhysEvent      v*     Event
use  CaloUtils      v*     Calo
use  CaloInterfaces v*     Calo
# use  Boost          v* LCG_Interfaces

# For DV v11r12
macro_append BOOST_linkopts " -lboost_regex"\
             Linux&debug " -lboost_regex_debug"\
             WIN32 " boost_regex_debug.lib" 

# Extra language for translating yacc to c++
# This is used to generate once the necessary files on Linux that are
# then committed (tool not available on win)
#============================================================================
# macro yaccppflags       " -l -d "
# macro yaccpp            "yacc $(yaccppflags)
# make_fragment yacc_to_icpp -suffix=icpp -header=yacc_to_icpp_header
# document yacc_to_icpp RecParser recparser.ypp
# macro recparser_ypp_yaccpp_prefix "DecayFinder::"

# macro lexppflags        " -L "
# macro lexpp             "lex ${lexppflags}
# make_fragment lex_to_icpp -suffix=icpp -header=lex_to_icpp_header
# document lex_to_icpp RecLexer reclexer.lpp
# macro reclexer_lpp_lexpp_prefix "DecayFinder::"

# Linker library building rule
#============================================================================
library          DaVinciToolsLib    ../Lib/*.cpp

# Component library building rule
#============================================================================
library          DaVinciTools    ../src/*.cpp -import=AIDA
# define link options
#============================================================================
#
macro_append Boost_linkopts $(Boost_linkopts_regex)

# standard patterns (order is essential!)
#============================================================================
apply_pattern component_library library=DaVinciTools
apply_pattern linker_library    library=DaVinciToolsLib
	     

