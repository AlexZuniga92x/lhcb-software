!-----------------------------------------------------------------------------
! Package     : Phys/Swimming
! Responsible : Vladimir Gligorov, Roel Aaij
! Purpose     : Scripts for swimming the HLT/Stripping/Offline selections
!               for lifetime measurements 
!-----------------------------------------------------------------------------

! 2011-11-28 - Chris Jones
 - Add some additions CMT uses, to try and fix errors in the nightlies that
   could be due to undeclared dependencies...
 - Add a magic macro_depend line to also try and help fix the dependencies

! 2011-11-26 - Chris Jones
 - Rename the libraries libSwimmingFunctions.so and libSwimmingFunctionsDict.so
   to avoid any possible naming conflicts with other libraries (libFunctions.so 
   is too generic a name).

! 2011-11-21 - Frederic Dupertuis
 - Add multi-candidates swimming functionality (SelectMethod = "all") and
	 modified EventLoop and Configuration accordingly.
 - Remove explicit relations of daughter's tracks to TPs in EventLoop.

!====================== Phys/Swimming v2r3 2011-11-03 =======================

! 2011-11-14 - Roel Aaij
 - Fix another wrong usage of operator[] to access by index.

! 2011-11-11 - Roel Aaij
 - Make custom event-loop function conform to the intended interface.
 - Use containedObjects() to access candidates by index.

!====================== Phys/Swimming v2r2 2011-11-03 =======================
! 2011-11-03 - V. Gligorov
 - Fix small bug in configurable to enable "Inputs" property to do something
 - Add two new HLT transforms which do not forward upgrade all HLT1 tracks
   in all events, to save time in production.
 - Add new example scripts for swimming D2hh to the examples directory.  

! 2011-11-01 - Roel Aaij
 - Add WriteFSR property to steer the writing of FSRs in the output file.

! 2011-10-28 - Roel Aaij
 - Fix for looping over candidates in SwimmingTisTos when swimming the
   stripping.

! 2011-10-28 - Roel Aaij
 - Add all information to first and last turningpoints instead of storing only
   the global decision.

! 2011-10-27 - Roel Aaij
 - Add Hlt node killing sequence as postConfigAction.

! 2011-10-26 - Roel Aaij
 - Fix 2 bugs (3 letters...)

! 2011-10-25 - Roel Aaij
 - Add OutputType property to allow DaVinci to write a DST when swimming the
   stripping.

! 2011-10-24 - Roel Aaij, Vava Gligorov
 - Add configuration class and functions to run the swimming using gaudirun.py
 - Add example scripts for use with gaudirun.py to example
 - Small fix for odin check in RunSwimming.py

! 2011-10-20 - Roel Aaij
 - For a final refined turning point, the last interval is moved forward by half
   the final granularity to avoid a systematic downward bias (swimming is always
   left to right).
 - Use pprint to make debug more readable (but also more lines).
 - Add AppMgr.stop, finalize, exit at the end.

! 2011-10-19 - Roel Aaij
 - Fixed some HltDecLast fallout from a previous change.
 - And reverted the fix because an important aspect was overlooked.

! 2011-10-16 - Roel Aaij
 - Add DecayTreeTuple.py, an example script to write a DecayTreeTuple from
   either a DST or a MicroDST.
 - Use hashParticle from SwimmingEvent to calculate a hash for an
   LHCb::Particle and use it to store the daughter information.

! 2011-10-12 - Roel Aaij
 - Change custom map.__call__ into more natural __setitem__

! 2011-10-11 - Roel Aaij
 - Many changes, mainly:
   . Use new event model classes to persist swimming result.
   . Update the way trigger results are passed around.
   . Write the swimming result to the MicroDST.
   . Add candidate selection possibility, currently deterministic random or
     the first candidate.
   . In case of non-trivial candidate selection, put the selected candidate 
     in a special location for swimming.
   . Add functions and dictionary for deterministic random selection.

!============================== v2r1 07-09-2011 ===============================
! 2011-09-07 - V. Gligorov
 - Many small bugfixes and updates to the code.
   . Save decisions of all triggers if swimming more than one trigger at once
   . Save which tracks participated in which trigger decision
 - Write out muDST file at the end of swimming the stripping.     

!============================== v2r0 14-08-2011 ===============================
! 2011-08-14 - V. Gligorov
 - Update to 2011 data.
 - Includes the following changes :
   . Added code to get VELO geometric acceptance for each track at each
     turning point.
   . Added trigger tranformations for 2011 data.
   . Rewritten event loop which no longer needs to rewind events in order to swim
     them. Many thanks to Marco Clemencic and Gerhard Raven for hints and tips
     in this respect. The timing to swim a single event is now ~10s/event for HLT,
     ~4s/event for Stripping. 
 
!============================== v1r2 29-05-2011  ===============================

! 2011-05-29 - V. Gligorov
 - Fix bug in swimming range when refining a turning point. 
 - Tag v1r2

!============================== v1r1p1 18-04-2011 ==============================

! 2011-04-18 - Diego Martinez Santos
 - Make version v1r1p1

! 2011-04-17 - V. Gligorov
 - Small bugfix for the options "-n" and "-s" which specify the number of
   events to run over and the first event to run over respectively. 

!============================== v1r1 16-04-2011 ==============================

! 2011-04-16 - Vladimir Gligorov
 - Update of the code. Setup options moved into separate files where possible.
   TisTos code moved into its own script, SwimmingTisTos.py.
 - Added functionality to store information on how many of the final state
   tracks from the signal candidate were reconstructed in HLT1/2, and how
   many of these tracks were TOS with respect to the signal trigger in HLT1. 

!============================== v1r0 13-04-2011 ==============================

! 2011-04-13 - Vladimir Gligorov
  - First commit of the code which used to live in Hlt2CommissioningScripts.
    This has been broken up into several smaller scripts. 
    . RunSwimming   : is the main script which controls the event loop
    . RefineTPs     : controls the recursive refinement of the turning points
    . HltTransforms : contains the transformations which allow swimming from TCKs 
    . SwimmingUtils : contains miscallaneous helper functions
    . Globals       : contains a helper class to pass "globals" (e.g. the TES)
                      between the various modules
