package LbConfiguration
version v1r2

use LbUtils		v*


apply_pattern source_shell_alias script=LbLogin
apply_pattern source_shell_alias script=setup_external
apply_pattern source_shell_alias script=cleanup_external
apply_pattern source_shell_alias script=SetupProject
apply_pattern source_shell_alias script=setenvProject

apply_pattern python_alias script=LbShowProjectConf
apply_pattern python_alias script=CreateBatAliases


# give public (rl) access to the current directory
alias mkpublic "find . -type d -print -exec fs setacl {} system:anyuser rl \;"

# remove public (l) access to the current directory
alias mkprivate "find . -type d -print -exec fs setacl {} system:anyuser l \;"

make_fragment create_bat_aliases -header=create_bat_aliases_header -dependencies

document create_bat_aliases projectaliases
macro_append projectaliases_dependencies " install_scripts "
macro_append projectaliases_dependencies " LbConfiguration_python "


macro generateLogin_output " ../scripts/LbLogin.csh ../scripts/LbLogin.sh ../scripts/LbLogin.zsh ../scripts/LbLogin.bat"
macro Lblogin_script_location "$(LbConfiguration_cmtpath)/$(cmt_installarea_prefix)"
macro generateLogin_command "python ../scripts/generateLogin.py  $(Lblogin_script_location) $(generateLogin_output) "

apply_pattern CallCommand target=generateLogin

macro_append install_scripts_dependencies " generateLogin " 


cmtpath_pattern \
	setup_script $(LBCONFIGURATIONROOT)/scripts/AllProjectsSetup
	
