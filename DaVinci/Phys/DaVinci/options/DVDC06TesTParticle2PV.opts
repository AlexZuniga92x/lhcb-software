/** @file 
 * 
 *  Test file for DC06 software using a SIM file
 *  
 *  @author P. Koppenburg
 *  @date 2006-03-08
 */

// Everything that works can go in there
#include "$DAVINCIROOT/options/DaVinci.opts"
// Get some Particles from MCParticles
// #include "$DAVINCIROOT/options/StandardMCParticles.opts"
// #include "$DAVINCIROOT/options/StandardMCJpsi.opts"
#include "$DAVINCIROOT/options/Particle2PVAsct.opts"
#include "$MCSTANDARDPARTICLESROOT/options/StandardMCParticles.opts"
#include "$MCSTANDARDPARTICLESROOT/options/StandardMCJpsi.opts"
//
ApplicationMgr.DLLs   += { "SimComponents" };
ApplicationMgr.TopAlg += { 
  "MCPrimVertexMaker"
};
//
MCPrimVertexMaker.OnlyVisible = false ; // needs MC/TrackInfo
MCPrimVertexMaker.OutputLevel = 1 ;

ApplicationMgr.DLLs += { "TrackExtrapolators" }; // to be added to $PHYSCORESYSROOT/options/PhysCoreSys.opts

ToolSvc.ParticleStuffer.OutputLevel = 3 ;

ApplicationMgr.TopAlg += { "DC06Tests1/TestParticle2PV" };
ApplicationMgr.DLLs += { "DaVinciUser" };
//
// TestParticle2PV.PhysDesktop.InputLocations = {"Phys/StdMCMuons",
//                                               "Phys/StdMCPions",
//                                               "Phys/StdMCKaons"};
//TestParticle2PV.PhysDesktop.InputLocations = {"Phys/StdMCMuons"};
TestParticle2PV.PhysDesktop.InputLocations = { "Phys/StdMCPions",
                                               "Phys/StdMCMuons",
                                               "Phys/StdMCKaons",
                                               "Phys/StdMCUnbiasedJpsi2MuMu" };
TestParticle2PV.ParticlePVTable = "Phys/StdJpsi2PVRelations";
//TestParticle2PV.PhysDesktop.InputLocations = { "Phys/StdMCUnbiasedHeavyDimuon" };
//TestParticle2PV.DecayDescriptor = "J/psi(1S) -> l+ l-";

ApplicationMgr.EvtMax  = 10 ;

//--
EventSelector.Input   = {
"DATAFILE='PFN:/afs/cern.ch/lhcb/software/DEV/GAUSS/Test_v24r5/11144100.500ev.03May.sim' TYP='POOL_ROOTTREE' OPT='READ'"
};

MessageSvc.Format = "% F%60W%S%7W%R%T %0W%M";

ApplicationMgr.HistogramPersistency = "ROOT";
HistogramPersistencySvc.OutputFile = "JpsiTest.root";

TestParticle2PV.OutputLevel = 3 ;

