package DaVinci
version v1r2

branches doc cmt src job options

# this line is necessary for getting the LHCb web documentation
set LHCBROOT ${LHCBSOFT}/LHCb/v7
set GAUDIROOT ${SITEROOT}/sw/Gaudi/releases/Gaudi/v8

version_strategy first_choice

# Gaudi Configuration options
use GaudiConf    v5

# Gaudi Framework
use GaudiSys     v8

# Histogram persistency ( choose the one you prefer )
#use HbookCnv     v10*
#use RootHistCnv  v4*

# Additional external libraries
use CERNLIB      v2001

# Subdetector Kernels ( add any other Kernel you need )
use CaloGen      v2*    Calo

# Detector description ( add any other Det package you need )
use XmlDDDB      v6*    Det
use DetDesc      v7*    Det
use CaloDet      v2*    Det

# Event Model ( add any other Event package you need )
use LHCbEvent    v11*   Event
use PhysEvent    v1*    Event
use CaloEvent    v6*    Event
use L0Event      v3*    Event

# SICB components necessary for running Fortran selection routines
# to ensure reading of correct database and use of correct libraries
# for the data produce with specific version of Brunel/SICBDST
use ReadData     v5     Phys 
use axsellib     v6*    SICB

# SicB event data persistency ( add any other you need )
use SicbCnv      v13*   SICB
use CaloSicbCnv  v4*    SICB
use MuonSicbCnv  v3*    SICB
use L0SicbCnv    v3*    SICB

# Trigger components
use L0Calo       v2*    L0
use L0Muon       v3*    L0
use L0DU         v2*    L0

# DaVinci components
use DaVinciTools  v1*   Phys
#
#===== build DaVinci =========================

application DaVinci $(GAUDICONFROOT)/src/GaudiMain.cpp \
                    ../src/*.cpp \
                    ../src/*.F 

# ========================= set macros ============================

apply_pattern application_path 

macro DaVinci_linkopts    "${application_linkopts}"

macro_append DaVinci_linkopts " "\
             Linux            " -g -Wl,--start-group "\
             Linuxdbx         " -g -Wl,--start-group "

