# $Id: requirements,v 1.12 2002-02-12 11:07:40 gcorti Exp $
# Created    : 07/02/2002
# Maintainer : Gloria Corti
#
# Documentation on the requirement file can be found at
# http://cern.ch/lhcb-comp/Support/html/new_structure.pdf

#--- Allows reading of data produced with Brunel >= v5
#    Reading of files produced with SICBDST is not supported in DaVinci v2r0
package           DaVinci
version           v2r0

# Structure, i.e. directories to process. 
#============================================================================
branches          cmt doc src job options


# In order to use packages build with cmt v1r6
ignore_pattern package_stamps

# Next line to get around SICB/detdes version clashes. 
# Makes order of package use important
version_strategy first_choice


# Used packages. Specify the version, * at the end specifies 'any revision'
#============================================================================
#--- CMT and Gaudi policy
use GaudiPolicy  v5r4

#--- It is possible to select the appropriate database version in DaVinci.job
#--- Uncomment and modify next line to select an appropriate database version
#use dbase v241 SICB

#--- External libraries - Gaudi v9
use ExternalLibs   v3r4
use AIDA           v1r0
use CLHEP          v17r10
use HTL            v13r10
use XERCES         v15r2
use CERNLIB        v2001

#--- Gaudi libraries - Gaudi v9r1 + bug fixes
use GaudiKernel        v11r1
use GaudiSvc           v7r2
use GaudiAud           v5r0
use GaudiAlg           v5r0
use GaudiTools         v5r0
use GaudiNagC          v6r0
use GaudiDb            v5r0

#--- Histogram persistency ( choose the one you prefer )
use HbookCnv           v11r0
#use RootHistCnv        v5r0

#---LHCb common libraries
use GaudiConf      v6r2
use BookKeeping    v1r1   Tools
use Finclude       v12r2  SICB
use Futio          v11    SICB

#--- Subdetector Kernels ( add any other Kernel you need )
use CaloKernel     v1r*   Calo

#--- Detector description ( add any other Det package you need )
use XmlDDDB        v7r*   Det
use DetDesc        v9r*   Det
use CaloDet        v3r*   Det
use VeloDet        v3r*   Det

#--- Event Model ( add any other Event package you need )
use EventKernel    v1r*   Event
use LHCbEvent      v12r*  Event
use CaloEvent      v7r*   Event
use VeloEvent      v6r*   Event
use L0Event        v10r*  Event
use L1Event        v6r*   Event
use PhysEvent      v2r*   Event

#--- SicB event data persistency
use SicbCnv        v15r*  SICB
use CaloSicbCnv    v5r*   SICB
use MuonSicbCnv    v4r*   SICB
use VSicbCnv       v6r*   SICB
use L0SicbCnv      v4r*   SICB

#--- L0 trigger
use L0Calo         v4r*   L0
use L0Muon         v4r*   L0
use VeloDigit      v1r*   Velo
use PuVeto         v1r*   L0
use L0DU           v4r*   L0

#--- SICBDST necessary libraries
#--- Please note that if it is necessary to process event with additional
#    fortran packages a detdes package consistent with such packages has
#    to be used
use Futil          v10r3  SICB
use detdes         v14    SICB
use digvdet        v2r3   SICB
use trivert        v5r3   SICB
use axreclib       v4r*   SICB
use axsellib       v6r*   SICB

#--- DaVinci packages
use DaVinciSicb    v1r*   Phys
use DaVinciTools   v2r*   Phys

# Build DaVinci Application with standard executable and user example code
# Note that user code can also be located in a component library (see details
# in Gaudi User Guide)
#============================================================================
application      DaVinci    ../src/Main/DaVinciMain.cpp \
                            $(DAVINCISICBROOT)/src/Objs/*.F \
                            ../src/User/*.cpp \
                            ../src/User/*.F 

# define link options
#============================================================================
apply_pattern application_path 

macro DaVinci_linkopts    "${application_linkopts}"

macro_append DaVinci_linkopts " "\
             Linux            " -g -Wl,--start-group "\
             Linuxdbx         " -g -Wl,--start-group "


# set the DaVinci version = v * 100000 + r * 100 + p * 100
#============================================================================
macro_append fflags   " -DDaVinciVersion=200000 " \
             VisualC  " /DDaVinciVersion=200000 "

macro_append cppflags " -DDaVinciVersion=200000 " \
             VisualC  " /DDaVinciVersion=200000 "
