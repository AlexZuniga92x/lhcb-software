!-----------------------------------------------------------------------------
! Package     : Event/TrackEvent
! Responsible : Jose Hernando, Eduardo Rodrigues
! Purpose     : Package for the tracking event model classes
!-----------------------------------------------------------------------------


! 2006-01-11
  - Track states vector needs non-const version


!========================= TrackEvent v2r0 2006-01-11 ========================

! 2006-01-11 M. Needham
  - bug fix in SHacks.h
  - Bug fix in positionCovariance matrix calculation

! 2006-01-10 M Needham
  - New version that is compatible with LHCb v20r0 - and nothing else !
  - Changes:
      * Move to SMatrix /Add SHack header to provide similarity functionality
      * Use LHCb/Gaudi namespaces
      * Proper definition of clone operator as pure virtual fn
      * Make update pure virtual function
      * Bugs fixed in error on p calculation
      * Make safe test on equality of doubles 

! 2005-12-13 - Eduardo Rodrigues
 - Measurement type ST split into TT and IT

! 2005-12-12 - Eduardo Rodrigues
 - additions to Track class:
   - PatKShort history flag
   - checkStatus method
   - new method to retrieve the number of outliers removed by the fit
 - Follow track location removed from Track

!========================= TrackEvent v1r6 2005-12-05 ========================
! 2005-12-08 - Eduardo Rodrigues
 - corrected problem with check methods in Track

! 2005-12-05 - Marco Cattaneo
 - Remove the trajectory classes because they break the POOL dictionary
   (dictionary cannot be loaded)

! 2005-12-02 - Eduardo Rodrigues
 - all templated methods removed from Track class (to follow GOD rules)
   and put in TrackFunctor.h

! 2005-11-30 - Eduardo Rodrigues
 - added constructor in LineTraj class from beginning and end point

! 2005-11-30 - Edwin Bos, Jeroen van Tilburg, Eduardo Rodrigues
 - First versions of basic trajectory classes:
   - Trajectory: base class
   - LineTraj  : line trajectory
   - StateTraj : trajectory for a State

!========================= TrackEvent v1r5 2005-11-28 ========================
! 2005-11-22 - Eduardo Rodrigues
 - fix from M. Cattaneo for platform dependent dictionaries with Gaudi 
   v17r2 and above

! 2005-11-21 - Jeroen van Tilburg
 - src/State.cpp: Copy also the State::Location in the clone method.
 - xml/Measurement.xml: Added method resolution(). This is equivalent to 
   the method errMeasure(), except for the implementation of 
   VeloPhiMeasurement.
 - xml/Node.xml: 
   - Always make a new state when constructor is called.
   - New methods: hasMeasurement(), removeMeasurement() and z(). Reason: a 
     node does not require a measurement (e.g. it can be seen as an 
     outlier by the fit, or be a dummy node useful for the predefined 
     states).
   - Corrected bug: residual can be negative!

! 2005-11-09 - Eduardo Rodrigues
 - Flag enum item "AlreadyUsed" introduced in Track.h

! 2005-11-08 - Eduardo Rodrigues
 - use enums types in methods interfaces instead of unsigned int

! 2005-11-07 - Eduardo Rodrigues
 - templated nMeasurements(predicate) method moved from TrackFunctor.h
   to Track class
 - templated nLHCbIDs(predicate) method added to Track class
 - use functors in closestState methods (suggestion from G. Raven)
   Note that the templated method is protected for the moment - need
   next version of Gaudi for public templated methods.
 - methods names modifications in TrackFunctor.h

! 2005-10-27 - Eduardo Rodrigues
 - new methods introduced in Track class
 - it++ replaced by ++it

! 2005-10-20 - Eduardo Rodrigues
 - minor change to TrackFunctor.h

!========================= TrackEvent v1r4 2005-10-14 ========================
! 2005-10-13 - Eduardo Rodrigues
 - TrackKeys.h and StateKeys.h files removed. Enumerations now produced
   in Track.xml and State.xml

! 2005-10-12 - Eduardo Rodrigues
 - changes to tracks enums in TrackKeys.h
 - sizes in the tracks bitfield adjusted as needed

! 2005-10-04 - Eduardo Rodrigues
 - improvements in documentation
 - new history enums added for converted tracks (from Chris Jones)

! 2005-10-03 - Eduardo Rodrigues
 - closestState methods (in Track.cpp) corrected
 - closestToZ and closestToPlane methods (in TrackFunctor.h) corrected

! 2005-09-27 - Eduardo Rodrigues, Jose A. Hernando
 - Node chi2 calculation corrected
 - added method to update measurements parameters (useful for Kalman fit)

!========================= TrackEvent v1r3 2005-07-20 ========================
! 2005-07-14 - Jose A. Hernando
 - improving the streamer of Track
 - fix bug in ordering adding the states to track

! 2005-06-28 - Eduardo Rodrigues
 - added Track clone method with key

!========================= TrackEvent v1r2 2005-06-21 ========================
! 2005-06-15 - Eduardo Rodrigues
 - changes to enums in TrackKeys.h, for clarity
 - TrackVertex.xml made to comply with conventions

!========================= TrackEvent v1r1 2005-06-02 ========================
! 2005-05-31 - Jose A. Hernando
 - Track: removing bug in addToStates and addToMeasurements:
   we were adding them twice!

! 2005-05-25 - Jose A. Hernando
 - State: when clone location it set to unknown
 - Track: ancestors are contained in SmartRefVec
   nMeasurements(Pred) method is in TrackFunctor waiting for new GOD/Gaudi
   version and proper work done with templates for python-dictionaries

!========================= TrackEvent v1r0 2005-05-24 ========================
! 2005-05-24 - Olivier Callot
 - Add the new class TrackVertex.xml to hold the trigger vertices, made of 
   Tracks. This is a copy of TrgVertex from Event/TrgEvent package.

! 2005-05-20 - Jose A. Hernando
	- in Track.xml, Track.cpp and TrackFunctor.h
 	methods returning unused StatusCode return now void
  using internally algorithms and functions objects to loop and operate vectors
	function objects added to TrackFunctor.h

! 2005-05-16 - Eduardo Rodrigues
 - Measurement class: inheritance from KeyedObject<int> removed
 - changes to State class:
   - no more "type" attribute
     (StateKeys.h and related methods modified/removed)
   - m_state attribute renamed to m_stateVector
   - reset method removed
 - changes to Node class:
   - introduced explicit constructor from a State and a Measurement
     (GOD still produces a default constructor - not yet possible
      to avoid it!!!)
   - inheritance from KeyedObject<int> removed
   - setMeasurement method removed

! 2005-05-12 - Jose Hernando, Eduardo Rodrigues
 - States/Measurements ordered when added to the Track
 - TrackFunctor added
 - State momentum-related methods return a HUGE_VAL (from math.h)
   for linear states
 - minor changes to usage of GaudiObjectDesc syntax
 - "physics state" data member removed
 - constructor with key completed
 - minor add-ons to Node

!========================= TrackEvent v0r1 2005-04-19 ========================
! 2005-04-19 - Marco Cattaneo
 - Fix a Windows compilation warning

! 2005-04-15 - Jose A. Hernando
 - Track: flags,history,etc.. are not set by an unsigned int
          the list of enums with the possible unsigned int values are now in TrackKeys.h

! 2005-04-15 - Jose A. Hernando
 - Track: destructor, reset and clone revisited, to handle properly the memory
		      set of vector of States, Measurements and Nodes not allow to handle the memory
          setting the flag at ones allowed.
 
 - Measurement: set the errMeasure2()	method
 - Node: destructor and set State revisited to handle the memory
         remove type as it can use the Measurement one
         return errResidual2() 

! 2005-04-15 - Eduardo Rodrigues
 - attributes in Node made protected (for inheritance)

! 2005-04-13 - Jose A. Hernando
 - incorporating 'keys' for Tracks (Event/TrackKeys.h and src/TrackKeys.cpp)	
 - keys are static vectors of strings that substitutes the enums in Track.h
 		. user can add their own key = string to the vector and can be use and set into the bitfield without changing the header file of Trach.h 
    . kyes in Track are: History (Pattern recognition algorithm), HistoryFit (fit algorithm), Types (types of tracks), Status (status of track i.e 'PatRec' or 'fitted'), and Flags.
 - TODO: all the destructor need to be 'virtual'!!

! 2005-04-13 - Eduardo Rodrigues
 - extra functionality in FitTrack was imported to Track
 - Track now contains measurements and nodes
 - vector of tracks ancestors added to Track
 - minor add-ons to State and Measurement

! 2005-04-07 - Eduardo Rodrigues
 - Track::nMeasurements method added
 - z-related methods added to Measurement

! 2005-04-04 - Eduardo Rodrigues
 - no id attribute for Measurement and Node classes

! 2005-03-31 - Eduardo Rodrigues
 - added methods to update the state/measurement in a Node

! 2005-03-31 - Eduardo Rodrigues
 - attributes in Track and State made protected (for inheritance)

! 2005-03-30 - Eduardo Rodrigues
 - copy constructor with assigned key
 - using the latest bitfields functionality as in GaudiObjDesc v7r4
   or later

! 2005-03-15 - Jose Hernando, Eduardo Rodrigues
 - introduction of the Measurement and Node base classes
 - replacing TrGeneral by TrackParameters

! 2005-02-23 - Jose Hernando, Eduardo Rodrigues
 - position-momentum covariance matrix implemented in State.cpp

! 2005-02-11 - Jose Hernando, Eduardo Rodrigues
 - adding flags IPSelected and MUSelected in Track

! 2005-02-10 - Jose Hernando, Eduardo Rodrigues
 - creation of the package. It contains for now the Track and State
   base classes
