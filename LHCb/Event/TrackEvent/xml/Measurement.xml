<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE gdd SYSTEM 'gdd.dtd'>
<gdd>
  <package name='TrackEvent'>

<!-- ================= Measurement class definition ================= -->

    <class
      name        = 'Measurement'
      author      = 'Jose Hernando, Eduardo Rodrigues'
      desc        = 'Measurement is the base class for offline and online measurements.'
      serializers = 'FALSE'>

      <import name='Kernel/LHCbID' />


      <base name='KeyedObject&lt;int&gt;' />
      &KeyedObject;
      &StlPtrVector;

      <enum
        name    = 'Type'
        value   = 'Unknown,Muon,OT,ST,TT,VeloR,VeloPhi'
        desc    = 'enumerator for the type of Measurement'
        access  = 'PUBLIC' />

     <attribute
       type    = 'bitfield'
       name    = 'mtype'
       desc    = 'the variety of measurement types'
       getMeth = 'FALSE'
       setMeth = 'FALSE'
       access  = 'PROTECTED'>
       <bitfield
         name      = 'type'
         length    = '6'
         type      = 'Type'
         getMeth   = 'FALSE'
         setMeth   = 'TRUE'
         checkMeth = 'TRUE'
         desc      = 'measurement type' />
      </attribute>

      <attribute
        type    = 'double'
        name    = 'z'
        desc    = 'the z-position of the measurement'
        access  = 'PROTECTED' />

      <attribute
        type    = 'double'
        name    = 'measure'
        desc    = 'the measurement value'
        access  = 'PROTECTED' />

      <attribute
        type    = 'double'
        name    = 'errMeasure'
        desc    = 'the measurement error'
        access  = 'PROTECTED' />

      <attribute
        type    = 'LHCbID'
        name    = 'lhcbID'
        desc    = 'the corresponding LHCbID'
        access  = 'PROTECTED' />

      <method
        type    = 'double'
        name    = 'errMeasure2'
        desc    = 'return the error squared'
        const   = 'TRUE'>
        <code>
  return m_errMeasure*m_errMeasure;
        </code>
      </method>

      <method
        type    = 'Type'
        name    = 'type'
        desc    = 'Retrieve measurement type'
        const   = 'TRUE'>
        <code>
  return (Measurement::Type)((m_mtype &amp; typeMask) &gt;&gt; typeBits);
        </code>
      </method>

      <method
        type    = 'Measurement*'
        name    = 'clone'
        desc    = 'Clone the Measurement'
        const   = 'TRUE'
        virtual = 'TRUE'>
        <code>
  Measurement* me = new Measurement(); *me = *this; return me;
        </code>
      </method>

    </class>

  </package>
</gdd>
