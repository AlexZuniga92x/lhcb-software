#============================================================================
# Created    : 2003-07-22
# Maintainer : Helder Lopes
#============================================================================
package           DAQEvent
version           v5r3

# Structure, i.e. directories to process. 
#============================================================================
branches          cmt dict doc src xml Event 

# Include directories
#============================================================================
include_dirs $(DAQEVENTROOT)

# Used packages.
#============================================================================
use GaudiAlg    v*
use Event       v* Event

# Produce Header-Files & dictionary from XML description
#============================================================================
document obj2doth DAQEventObj2Doth ../xml/*.xml
document obj2dict DAQEventObj2Dict ../xml/*.xml

# ==================== linker library =======================================
library DAQEventLib     *.cpp

# ==================== component libraries ==================================
library DAQEvent        component/*.cpp
library DAQEventDict    ../dict/*.cpp
#library DAQEventDict    ../dict/*.cpp ../$(tag)/dict/DAQEvent/*.cpp

# ==================== Standard patterns (order is important!) ==============
apply_pattern component_library library=DAQEventDict
apply_pattern component_library library=DAQEvent
apply_pattern linker_library    library=DAQEventLib

private
use GaudiObjDesc v*
# Additional dictionaries not generated automatically by GaudiObjDesc
action DAQEvent_custom_dict \
   "if !(test -r ../dict/DAQEvent_selection.xml) then \
     cp ../Event/lcgStl.h ../dict/DAQEvent_dictionary.h;  \ 
     cp ../xml/lcgdict/lcg_selection.xml ../dict/DAQEvent_selection.xml; fi" \
  WIN32 ""
macro DAQEventObj2Dict_dependencies DAQEvent_custom_dict
