Package: GaudiObjDesc
Desccription: This package contains a set of tools used to generate code from the XML description of the data object classes.
Package manager : Stefan Roiser

===============================GaudiObjDesc v8r0p1============================
!20051007 - Pere
- added lcgdict.py and gendict2.py files in /scrips with patches included at SEAL head
- modified requirements to make use of them 

===============================GaudiObjDesc v8r0============================
!20050908 - Pere
- modified nmake fragments for the production of lcgdict (reflex) based dictionaries
  fragments/nmake/obj2dict_header
  fragments/nmake/obj2dict_trailer

!20050822 - Stefan
- preparation for using namespace LHCb for Event classes and namespaces (not activated yet)
- small changes for fragment (linux)
- changing template parser to support indented tokens

!20050726 - Stefan
- fixed bug when checking for typedefs or enums in include files

!20050721 - Stefan
- move dictionary generation from Reflection to Reflex
  - GOD now produces header files with proper includes and instantiations of 
    templated classes plus a selection.xml file which will be passed to the 
    SEAL lcgdict command to generate dictionary source code.
  - rewrite of genClassDicts.py  
  - remove genAssociations.py
  - new file genAssocDicts.py for generation of Reflex dictionaries for Relations
  - change ob2dict fragments to invoke lcgdict on generated headers
  - remove template files: associations.tpl, dict.tpl
  - new template files: selection_xml.tpl, dictionary_h.tpl
- new attribute "virtual" (TRUE|FALSE) for generation of virtual destructors 

!20050719 - Hubert Degaudenzi
- added removal of the xml/gdd.dtd file for the clean target of the 
  makefile fragments. fixed bug #9584.

===============================GaudiObjDesc v7r4============================
!20050706 - Hubert Degaudenzi
- fixed end of lines in gdd.dtd

!20050525 - Stefan
- adding template support for methods (attribute template)
- no dictionaries for templated methods are created (if needed use lcgdict)

!20050217 - Stefan
- new <bitfield> attribute "exclusive" triggers inclusive or exclusive setting of the bitfield
- fix for bitfield check-methods, bit to check shifted into right position

===============================GaudiObjDesc v7r3============================

!20050206 - Stefan
- lowering getter names of bitfields (as for all other getters) 
  (e.g. HTL()->htl(), PDRow()->pdRow())

!20050203 - Stefan
- fix for dictalias when generating info for dictionary fields
- generation of bitfield accessor methods fixed
- added support for transient attribute of <attribute> element
- fix to not self include the header file after the class definition

===============================GaudiObjDesc v7r2============================

!20050127 - Stefan
- excluding types in namespace std from demangling 

!20050126 - Stefan
- genClassDicts.py: fix for dictionary (because of problems with persistency 
  tools not handling the new 1.9.1.2 clhep classes). Attribute types and 
  parameter/return types of methods will now be demangled by the compiler 
  (through GaudiKernel/System::typeinfoName) if they are not fundamental

!20050117 - Stefan
- methods returning enums or taking enums as arguments now accept/return "int"s in the dictionary code
- fix in dictionary code: methods returning or taking a SmartRef<T> will be described as T* in the dictionaries

!20050117 - Stefan
- import names stay unchanged if they contain a '.'. E.g. <import name='file.hh'/> will convert to #include "file.hh"
- fix: all get/set/addTo/etc. methods are now public in the dictionaries by default

===============================GaudiObjDesc v7r1============================

!20050111 - Stefan
- generating of typedefs in classes unified. All typedefs are handled by a single function (std::vector,KeyedContainer,ContainedObject) 
- class attributes 'stdVectorTypeDef, templateVector, templateList' will be depricated and replaced by new ones
- ATTENTION: if the typedefs for KeyedObjects/ContainedObjects at the end of the class should be generated, then:
             - classes not inheriting directly form KeyedObject<T> must have the <class> attribute "keyedContTypeDef" set to "TRUE" 
             - classes not inheriting directly form ContainedObject must have <class> the attribute "contObjectTypeDef" set to "TRUE"

!20050103 - Stefan
- fix: generate unique include line in case of stl includes (generated from forward declarations)
 
===============================GaudiObjDesc v7r0============================
!20041213 - Stefan
- changes necessary for windows compilation 
  . passing refs to pointers in dictionary stubfunctions needs a cast to the ref
  . changed getters for bitfields to remove a warning of vc71

!20041208 - Stefan
- changes to fragments: no source setup needed to pick up the correct python version (set by LCG_Interfaces/Python)

!20041206 - Stefan
- new attribute 'checkMeth' (TRUE|FALSE) of <bitfield> which will generate
  a method to check whether a certain bit of the bitfield is set 

!20041205 - Stefan 
- package rewritten in python
- new features:
  - explicit constructors (attribute 'explicit' (TRUE|FALSE) in <constructor>)
  - printing of objects on MsgStream
  - set,addTo,removeFrom methods also with relation type pointer as argument
    (before only SmartRef<T>)
  - set/get methods of bitfields with self defined types (att 'type' in <bitfield>)
  - better alignment of produced code
- backward compatible to cpp version of GOD
- new cmt fragment 'godify' for generating headers and dictionaries 
  (old fragments will also work)
- some options are not used anymore (deprication warnings are printed) and will
  be removed in a future version
- new script genGODsClassDB.py for generating the class database used by GOD

===============================GaudiObjDesc v6r3p1==========================
!20041117 - Stefan Roiser
- fixed char* handling (has to be done through Xerces tools)

===============================GaudiObjDesc v6r3============================
!20040716 - Pere Mato, Stefan Roiser
- added test: xml file, python test, tec.

!20040706 - Pere Mato
- requirements: adapted to use new LCGCMT interface packages

===============================GaudiObjDesc v6r2p3============================
!20040614 - Stefan
- removed include for RelationsDict.h for general dictionary files (only for <assoc> left)

!20040604 - Stefan
- bugfix: getters in dictionaries sometimes returned by value instead ref
          params for relation setters are now refs in the dictionary
	  change to SmartRefDict<T>, renamed functions "equals" to "=="
	  and "nonequals" to "!=", removed function "data"

!20040512 - Stefan
- bugfix: Class::resolvePending() now called at the end of the loading of 
          each file
- Constructor of the dictionary now called by the _InitDict() constructor, 
  not static instance anymore

!20040206 - Stefan
- bugfix: errorReporter attached to Xerces parser was deleted too early

===============================GaudiObjDesc v6r2p2============================
!20040122 - Stefan
- added macros to KeyedDictionary.h and SealDictionary.h in order to allow instantion
  of dictionaries through macros (needed e.g. when dictionary production through GOD
  is not possible because of usage of non GOD compliant containers in Event packages)

===============================GaudiObjDesc v6r2p1============================
!20040107 - Stefan
- bugfix: <import> did not work for associations
- bugfix: GaudiCppExport.xml added information for ITCluster, L1Track2d
          L1Track3d and OTCluster
- new script to produce GaudiCppExport.xml automatically (not used for this version)

===============================GaudiObjDesc v6r2==============================
!20031219 - Stefan
- bugfix: converting XMLCh* to char* when using string with possible replacement

===============================GaudiObjDesc v6r1==============================
!20031217 - Stefan
- <assoc> is now a sub-element of <package> 
- new attribute "from" for element <assoc>
- a new file <packagename>_Associations_dict.cpp will be created containing 
  the initialisations for associations dictionaries for each package

===============================GaudiObjDesc v6r0==============================
!200312 - Stefan
- new element <assoc> to specify associations between event objects
  - attributes "to" for the associated object
               "weight" to specify the type of weight (e.g. int)
               "type" to specify the type of association (either "1D" or "2D")
- new attribte "transient" for <attribute>-element (values "TRUE" or "FALSE")

===============================GaudiObjDesc v6r0==============================

!20031004 - Stefan
- changes to DaDiCppDict to produce output which complies to SEAL dictionaries

!20030701 - Stefan
- changes to bitfields
  - setters of bitfields with length 1 accept bool as argument
  - getters of bitfields with length 1 return bool
  - new sizes for bitfields 'bitfield8', 'bitfield16', 'bitfield32' and 
    'bitfield64'. Old type 'bitfield' is equal 'bitfield32'
  - bitfield-attribute 'startAtOne' removed

===============================GaudiObjDesc v5r2==============================
!20031211 - Stefan
- bugfix: replaced XMLString::release with delete[] for XMLCh[] in some cases

===============================GaudiObjDesc v5r1==============================
!20031126 - Pere Mato
- Changes for Mac OSX (Guy Barrand)

===============================GaudiObjDesc v5r0==============================
!20030430 - Stefan
- changed to new version of Xerces 2.2.0
- fixes of memory-leaks after valgrind-tests

===============================GaudiObjDesc v4r7==============================
!20030115 - Stefan, Pere
- removed SetDTD setup script from requirements
- avoided to define GAUDIOBJDESCROOT when building packages

!20030110 - Stefan
- serialization of enums
- fillStream called also for base-classes
- implementation of templated methods inside class-body (due to vc6 restrictions)

===============================GaudiObjDesc v4r5p1============================
!20021112 - Stefan
- bugfix: corrected the output for 'const' return-values of self-defined methods 

===============================GaudiObjDesc v4r5============================
!20020925 - Stefan
- new database of header-files generated
- meta-information about constructors added to the dictionary-files

===============================GaudiObjDesc v4r4p1============================

!20020910 - Flr
 requirements - use v* in "use" statements

===============================GaudiObjDesc v4r4===============================

!20020619 - Stefan
- introduced new value for 'inout'-attribute of =arg=-element called 'BYVALUE' to be
  able to force the passing of a non-simple argument by value

!20020617 - Stefan
- handling of offsets to abstract-interface-classes
- use friend-classes for investigation of offsets instead of defines
- no dictionary-information for private, protected, pure virtual and friend-functions
- changes to dictionary-fragments to produce the class with the friend-class in the dict-directory

===============================GaudiObjDesc v4r3===============================

!20020514 - Stefan
 - Implementations of friend-functions will be done inside the class-body again, because of link-problems

===============================GaudiObjDesc v4r3===============================

!20020513 - Stefan
 - Added <attribute=- and <relation>-attribute 'serialize' to specify whether to persistify an object
 - Added <attribute>-attribute 'compression' to enable conversion double<->float 
   while serializing to compress the resulting size
 - Added new <bitfield>-element to handle bitpacking
 - friend-functions are now implemented outside the class-body

================v4r2=====================================
! 20020503 Pere Mato
- Small problem on the fragment obj2doth_header that forced the re-creation of 
  all header files each time.
- Some changes in the generation of dictionaries:
  ~ In methods avoid use of static variables for complex types (one one instance available)
  ~ The same for accessor methods
  ~ The return type for relations was not correct in the MetaMethod creation

================v4r1=====================================

! 20020416 Stefan Roiser
 - Added <class>-attribute 'keyedContTypeDef' to force the production of typedefs for KeyedContainers which are inherited 
   indirectly from 'KeyedObject' but cannot be resolved through the xml-file (inheritance from a class defined in another xml-file)
 - Gaudi-type 'longlong' recognized as fundamental-one

================v4r0=====================================
! 20020328 Stefan Roiser
  - changes to produce dictionary-information compliant to the new interface of GaudiIntrospection v4r0

! 20020328 Pere Mato
  - Added ${CONSTITUENT}_GODflags in fragments

! 20020327 Pere Mato
  - Changes needed for Solaris (by Wim.Lavrijsen). Details:
    +++ GaudiObjDesc/src/DaDiCppHeader.cpp
        several const added
    +++ GaudiObjDesc/src/DaDiCppDict.cpp
        several const added

! 20020325 - Stefan Roiser
 - bugfix no reference for arguments which are fundamental types of more then one word (e.g. signed int)

! 20020319 - Stefan Roiser
 - bugfix when using stdVectorTypeDef to create type std::vector<classname*>

==================v3r3p1=================================
! 20020404
 - automatic include of <utility> when using std::pair
 - automatic include of GaudiKernel/StreamBuffer.h for every class
 - bugfix for dict-fragment when processing more than one xml-file

==================v3r3===================================
! 20020403
 - added command-line option '-l <path>' for GODWriteCppDict.exe to define the location of the .h-files

! 20020402
 - branch created 
 - necessary patches from v4r0 applied (const chars for sun-compiler, handling of fundamental types)
 - bugfix when compiling dictionary-information with unary operators
 - bugfix when using virtual selfdefined methods

================v3r2=====================================
! 20020319 - Stefan Roiser
 - introduced new <class>-attribute 'stdVectorTypeDef' for typedef of a std::vector of class-pointer
 - introduced new <class>-attribute 'serializers' to enable/disable writing of serialize-functions
 - bugfix typedefs and enums used in function-implementations outside class now prefixed with 'ClassName::'

! 20020318 - Stefan Roiser
 - applying naming rules for getters with abbreviations also to _dict.cpp-files

! 20020314 - Stefan Roiser
 - bugfix when using methods inside namespaces
 - bugfix declaring public enums before method-definitions

! 20020313 - Stefan Roiser
 - attribute 'array' introduced in <attribute>-element
 - element <method> inside <namespace> introduced
 - bugfix when using forward-declarations <import name='packname/classname' soft='TRUE'/>
 - bugfix no double includes of classes when specified in package- and class-scope
 - attribute noQuote for <location>-element introduced (when concatenating variables)

! 20020227 - Stefan Roiser
 - GaudiObjDesc independent from GaudiKernel
 - added tag 'ignore' to <import>-element for non-inclusion of types
 - new naming-conventions for getters with abbreviations
 - non-const getter for non-simple attributes, 1-M relations and pointers
 - empty initialization of members in standard-constructor when initialization-value is given
 - only one setter for 1-1-relations with SmartRef<Type> as argument 
 - only one addTo- and removeFrom-function for 1-M-relations with SmartRef<Type> as argument

================v3r1=====================================
! 20020214 - Stefan Roiser
 - added <typedef> and <desc> as sub-elements of <namespace>
 - added 'author'-attribute to <namespace>
 - bugfix: Defs of <typedef>s recognized as types which do not have to be included
 - bugfix: classes created through xml-file will be added to 'class-database' ad Event/'ClassName'
 - handling of pointers as simple types
 
================v3r0=====================================
! 20020130 - Stefan Roiser
 - added function to locate the place in the TDS
 - added possibility to make pure virtual functions
 - added 'translator' for unregular plurals

! 20021028 - Stefan Roiser
 - <namespace>-element introduced
 - fragments will now write the output to sub-dir "Event"
 - new 'database' of classes generated from Gaudi v9r0
 - bugfixes applied (writing to public, protected, private; including of unknown classes)
 - typedef for KeyedContainer added if derived from KeyedObject

! 20020118 - Stefan Roiser
 - bugfix applied for better handling of fundamental types
 - <enum>-element introduced
 - attribute 'initList' for special constructors introduced, which will handle initialization
   outside the {-paranthesis

! 20011207 - Stefan Roiser
 - Better formatting standard output streams

! 20011130 - Pere Mato
 - changed generation of "getters" for 1-1 relations to return a pointer instead of SmartRef<> 

! 20011123 - Stefan Roiser
 - changed serializing functions and operator overloading

! 20011105 - Stefan Roiser
 - added serializing functions and operator overloading for serializing objects

! 20011101 - Stefan Roiser
 - relation-attribute 'ratio' renamed to 'multiplicity', possible values '1', 'M', 'm', 'N', 'n'
   fragment for cpp-file production for dictionaries changed, destination is now /dict
   classID-information added to cpp-files for passing it to the dictionary

! 20011029 - Stefan Roiser
 - several changes in order to achieve linux compliance

! 20011019 - Stefan Roiser
 - many small changes: handling of arguments in selfdefined methods, concatenate class descriptions, produce
   at least one empty constructor, handling and errorhandling of class-attribute 'argList'
 
! 20011018 - Stefan Roiser
 - CppWriter generates an entry (classname - packagename/classname) to the 'Headerdatabase' before writing the cpp 

! 20011017 - Stefan Roiser
 - Added production of non-standard constructors, destructors, warning at top of file

! 20011010 - Stefan Roiser
 - Changed production of serializers in .h-files

! 20011009 - Stefan Roiser
 - Many small changes to polish the code generation

! 20011003 - Stefan Roiser, Pere Mato
 - New package

