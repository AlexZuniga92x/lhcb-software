<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE gdd SYSTEM "gdd.dtd">
<gdd>
<package name="RichRecBase">

<!-- **************************************************************************
  * $Id: RichRecPhoton.xml,v 1.6 2005-11-15 13:32:16 jonrob Exp $
  *****************************************************************************
  * XML-description of RichRecTrack class                                     *
  * author: Chris Jones   Christopher.Rob.Jones@cern.ch                       *
  * date:   2004-06-23                                                        *
  ************************************************************************* -->

        
<class 
        author           = "Chris Jones   (Christopher.Rob.Jones@cern.ch)" 
        desc             = "Rich reconstruction photon candidate. The result of an association between a RichRecTrack and a RichRecPixel." 
        id               = "12424" 
        keyedContTypeDef = "TRUE" 
        location         = "Rec/Rich/RecoEvent/Photons" 
        name             = "RichRecPhoton" 
        stdVectorTypeDef = "TRUE" >

        <base name="KeyedObject&lt;RichRecPhotonKey&gt;"/>

        <import name="RichRecBase/RichRecPhotonKey"/>
        <import name="RichKernel/RichHypoData"/>
        <import name="RichKernel/RichParticleIDType"/>
        <import name="RichEvent/RichGeomPhoton"/>
        <import name="RichKernel/RichObjPtn"/>

        <location name="Offline" place="Rec/Rich/RecoEvent/OfflinePhotons"/>
        <location name="HLT"     place="Rec/Rich/RecoEvent/HltPhotons"/>

        &KeyedObject;

 	<typedef 
		desc   = "type for internal storage for floating point data" 
		access = "PUBLIC" 
		def    = "FloatType" 
		type   = "float"
	/>

        <constructor 
                desc     = "Constructor from detailed information" 
                initList = "m_geomPhoton(photon), m_expPixelSignalPhots(), m_expPixelScattPhots(), m_richRecSegment(pSeg), m_richRecTrack(pTrk), m_richRecPixel(pPix)">
                <arg name="photon" type="RichGeomPhoton*"/>
                <arg inout="BYVALUE" name="pSeg" type="RichRecSegment*"/>
                <arg inout="BYVALUE" name="pTrk" type="RichRecTrack*"/>
                <arg inout="BYVALUE" name="pPix" type="RichRecPixel*"/>
                <code/>
        </constructor>
            
        <method 
                const = "FALSE" 
                desc  = "Sets the expected signal contribution to the associated RichRecPixel for a given particle hypothesis" 
                name  = "setExpPixelSignalPhots" >
                <arg const="TRUE" inout="BYVALUE" name="type" type="Rich::ParticleIDType"/>
                <arg const="TRUE" inout="BYVALUE" name="photons" type="RichRecPhoton::FloatType"/>
                <code>
                        expPixelSignalPhots().setData(type,photons);
                </code>
        </method>
            
        <method 
                const = "FALSE" 
                desc  = "Sets the expected scattered contribution to the associated RichRecPixel for a given particle hypothesis" 
                name  = "setExpPixelScattPhots" >
                <arg const="TRUE" inout="BYVALUE" name="type" type="Rich::ParticleIDType"/>
                <arg const="TRUE" inout="BYVALUE" name="photons" type="RichRecPhoton::FloatType"/>
                <code>
                        expPixelScattPhots().setData(type,photons);
                </code>
        </method>
            
        <method 
                const = "TRUE" 
                desc  = "Returns the expected signal contribution to the associated RichRecPixel for a given particle hypothesis" 
                name  = "expPixelSignalPhots" 
                type  = "RichRecPhoton::FloatType" >
                <arg const="TRUE" inout="BYVALUE" name="type" type="Rich::ParticleIDType"/>
                <code>
                        return (expPixelSignalPhots())[type];
                </code>
        </method>
            
        <method 
                const = "TRUE" 
                desc  = "Returns the expected scattered contribution to the associated RichRecPixel for a given particle hypothesis" 
                name  = "expPixelScattPhots" 
                type  = "RichRecPhoton::FloatType">
                <arg const="TRUE" inout="BYVALUE" name="type" type="Rich::ParticleIDType"/>
                <code>
                        return (expPixelScattPhots())[type];
                </code>
        </method>
            
        <method 
                desc = "Reset information to force recalculation" 
                name = "reset" 
                type = "void"
        />
            

        <method 
                desc  = "The result of the Cherenkov angles reconstruction" 
                name  = "geomPhoton" 
                const = "TRUE" 
                type  = "const RichGeomPhoton &amp;" >
                <code> return *m_geomPhoton.object(); </code>
        </method>
        <method 
                desc  = "The result of the Cherenkov angles reconstruction" 
                name  = "geomPhoton" 
                const = "FALSE" 
                type  = "RichGeomPhoton &amp;" >
                <code> return *m_geomPhoton.object(); </code>
        </method>
        <attribute 
                setMeth     = "FALSE"
                getMeth     = "FALSE"
                desc        = "The result of the Cherenkov angles reconstruction" 
                name        = "geomPhoton" 
                type        = "RichObjPtn&lt; RichGeomPhoton &gt;"
        />
<!--
        <attribute 
                compression = "FALSE" 
                desc        = "The result of the Cherenkov angles reconstruction" 
                name        = "geomPhoton" 
                setMeth     = "TRUE" 
                type        = "RichGeomPhoton"
        />
-->        

        <method 
                desc  = "Retrieve const The Expected number of signal photons for each particle hypothesis" 
                name  = "expPixelSignalPhots" 
                const = "TRUE" 
                type  = "const RichHypoData&lt;RichRecPhoton::FloatType&gt; &amp;" >
                <code> return *m_expPixelSignalPhots.object(); </code>
        </method>
        <method 
                desc  = "Retrieve The Expected number of signal photons for each particle hypothesis" 
                name  = "expPixelSignalPhots" 
                const = "FALSE" 
                type  = "RichHypoData&lt;RichRecPhoton::FloatType&gt; &amp;" >
                <code> return *m_expPixelSignalPhots.object(); </code>
        </method>
        <attribute 
                setMeth     = "FALSE"
                getMeth     = "FALSE"
                desc        = "The Expected number of signal photons for each particle hypothesis" 
                name        = "expPixelSignalPhots" 
                type        = "RichObjPtn&lt; RichHypoData&lt;RichRecPhoton::FloatType&gt; &gt;"
        />
<!--
        <attribute 
                desc      = "Expected number of signal photons for each particle hypothesis" 
                getMeth   = "TRUE" 
                name      = "expPixelSignalPhots" 
                serialize = "TRUE" 
                setMeth   = "TRUE" 
                init      = "0" 
                type      = "RichHypoData&lt;RichRecPhoton::FloatType&gt;"
        />
-->

        <method 
                desc  = "Retrieve const The Expected number of scattered photons for each particle hypothesis" 
                name  = "expPixelScattPhots" 
                const = "TRUE" 
                type  = "const RichHypoData&lt;RichRecPhoton::FloatType&gt; &amp;" >
                <code> return *m_expPixelScattPhots.object(); </code>
        </method>
        <method 
                desc  = "Retrieve The Expected number of scattered photons for each particle hypothesis" 
                name  = "expPixelScattPhots" 
                const = "FALSE" 
                type  = "RichHypoData&lt;RichRecPhoton::FloatType&gt; &amp;" >
                <code> return *m_expPixelScattPhots.object(); </code>
        </method>
        <attribute 
                setMeth     = "FALSE"
                getMeth     = "FALSE"
                desc        = "The Expected number of scattered photons for each particle hypothesis" 
                name        = "expPixelScattPhots" 
                type        = "RichObjPtn&lt; RichHypoData&lt;RichRecPhoton::FloatType&gt; &gt;"
        />
<!--
        <attribute 
                desc      = "Expected number of scattered photons for each particle hypothesis" 
                getMeth   = "TRUE" 
                name      = "expPixelScattPhots" 
                serialize = "TRUE" 
                setMeth   = "TRUE" 
                init      = "0" 
                type      = "RichHypoData&lt;RichRecPhoton::FloatType&gt;"
        />
-->

        <attribute 
                compression = "FALSE" 
                desc        = "RichRecSegment used in the formation of the RichRecPhoton candidate" 
                init        = "0" 
                name        = "richRecSegment" 
                serialize   = "FALSE" 
                type        = "RichRecSegment*"
        />
            
        <attribute 
                compression = "FALSE" 
                desc        = "RichRecTrack associated to the RichRecSegment used in the formation of the RichRecPhoton candidate" 
                init        = "0" 
                name        = "richRecTrack" 
                serialize   = "FALSE" 
                type        = "RichRecTrack*"
        />
            
        <attribute 
                compression = "FALSE" 
                desc        = "RichRecPixel used in the formation of the RichRecPhoton candidate" 
                init        = "0" 
                name        = "richRecPixel" 
                serialize   = "FALSE" 
                type        = "RichRecPixel*"
        />
        
</class>

</package>
</gdd>
