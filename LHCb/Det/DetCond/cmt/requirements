# $Id: requirements,v 1.85 2008-06-11 05:39:14 cattanem Exp $
# =============================================================================
package       DetCond
version       v12r0

# =========== structure =======================================================
branches      DetCond doc cmt src

# =========== dependencies ====================================================
use           GaudiKernel       v*
use           GaudiAlg          v*
use           COOL              v*      LCG_Interfaces
use           CORAL             v*      LCG_Interfaces
use           Boost             v*      LCG_Interfaces
use           rx                v*      LCG_Interfaces
use           DetDesc           v*      Det

# This one is for the interface ICondDBInfo
use           LHCbKernel        v*      Kernel

# =========== own includes ====================================================
apply_pattern	install_more_includes more=DetCond

#==============================================================================
# Needed to resolve references to CoolApplication
#macro_append COOL_applibs '-llcg_RelationalCool '  \
#      WIN32          'lcg_RelationalCool.lib '
#apply_tag   NEEDS_COOL_FACTORY
macro_append COOL_linkopts ' -llcg_CoolApplication '
apply_tag   NEEDS_CORAL_BASE

# =============== LCG Dictionary ==============================================
apply_pattern     reflex_dictionary                                     \
                  dictionary=DetCond                                    \
                  headerfiles=$(DETCONDROOT)/src/dict/DetCondDict.h     \
                  selectionfile=$(DETCONDROOT)/src/dict/DetCondDict.xml \
                  options="-U__MINGW32__"

# =========== constituents =====================================================
library       DetCondLib        Lib/*.cpp
library       DetCond           component/*.cpp

# =========== standard patterns (the order is essential!) ====================== 
apply_pattern component_library library=DetCond 
apply_pattern linker_library    library=DetCondLib 

apply_pattern install_python_modules

# ==============================================================================
private

macro_append DetCond_use_linkopts " $(Boost_linkopts_thread) $(Boost_linkopts_filesystem_mt) "

macro_append DetCond_use_linkopts " -lboost_date_time-$(Boost_compiler_version)-mt " \
        Darwin                    " -lboost_date_time-mt-$(Boost_file_version) " \
        WIN32                     "   boost_date_time-vc71-mt-$(Boost_file_version).lib "

end_private
