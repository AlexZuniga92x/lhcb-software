# $Id: requirements,v 1.38 2003-06-25 14:59:02 ibelyaev Exp $
# =============================================================================
package LHCbKernel
author  M.Frank    CERN/LHCb
manager M.Cattaneo CERN/LHCb

version v2r9

include_dirs $(LHCBKERNELROOT) $(BOOSTHOME)

use GaudiKernel  v13r*
use CLHEP        v*
use BOOST        v*     -no_auto_imports
use GaudiObjDesc v5r*   -no_auto_imports

# Produce Header-Files from XML description, overriding default destination
#============================================================================
macro LHCbKernelObj2Doth_GODflags " -o ../Kernel/ " \
      WIN32                       " -o ..\Kernel\ "
document obj2doth LHCbKernelObj2Doth ../xml/LHCbKernel.xml

macro LHCbKernelObj2Dict_GODflags " -l Kernel/ " \
      WIN32                       " -l Kernel\ "
document obj2dict LHCbKernelObj2Dict ../xml/LHCbKernel.xml

# Build libraries (including dictionary)
#============================================================================
library LHCbKernel     *.cpp
library LHCbKernelDict ../dict/*.cpp -import=GaudiIntrospection
        
# - uncomment to find memory leaks - 
#macro_append LHCbKernel_pp_cppflags '  -DCOUNT_INSTANCES  ' \
#        WIN32                       ' /D"COUNT_INSTANCES" '

# Define link options
#============================================================================
apply_pattern package_linkopts
apply_pattern package_stamps
apply_pattern linker_path

apply_pattern package_shlibflags

#============================================================================
private
macro LHCbKernelDict_shlibflags  "$(GaudiIntrospection_linkopts) $(use_linkopts) $(libraryshr_linkopts)"
        
private 
application   RelationsTest -check  Test/RelationsTest.cpp 
macro_prepend RelationsTestlinkopts " $(LHCbKernel_linkopts) $(use_linkopts) "
apply_pattern application_path
path_remove   PATH                  "LHCbKernel"
path_append   PATH                  ${LHCBKERNELROOT}/${BINDIR}
