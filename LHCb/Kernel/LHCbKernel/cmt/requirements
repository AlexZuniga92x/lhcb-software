# $Id: requirements,v 1.81 2005-10-21 16:45:38 cattanem Exp $
# =============================================================================
package LHCbKernel
author  M.Frank    CERN/LHCb
manager M.Cattaneo CERN/LHCb

version v5r14

include_dirs $(LHCBKERNELROOT)

use GaudiKernel  v*
use CLHEP        v*    LCG_Interfaces

macro SEAL_native_version "SEAL_1_7_5"

# Produce Header-Files from XML description, overriding default destination
#============================================================================
macro LHCbKernelObj2Doth_GODflags " -s ../Kernel/ " \
      WIN32                       " -s ..\Kernel\ "
document obj2doth LHCbKernelObj2Doth ../xml/*.xml

macro LHCbKernelObj2Dict_GODflags " -s ../Kernel/ " \
      WIN32                       " -s ..\Kernel\ "
document obj2dict LHCbKernelObj2Dict ../xml/*.xml

# Build libraries (including dictionary)
#============================================================================
library LHCbKernel     *.cpp
library LHCbKernelDict ../dict/*.cpp 
#../$(tag)/dict/LHCbKernel/*.cpp

# Debug flag for RichSmartID
macro_append LHCbKernel_cppflags "" \
                   Linux&debug " -DRICHDEBUG "
        
# Standard patterns (order is essential)
#============================================================================
apply_pattern component_library library=LHCbKernelDict
apply_pattern linker_library    library=LHCbKernel

private
#============================================================================
use GaudiObjDesc v*

# Additional dictionaries not generated automatically by GaudiObjDesc
#============================================================================
action LHCbKernel_custom_dict \
  "if !(test -r ../dict/LHCbKernel_selection.xml) then \
     cp ../Kernel/lcgStl.h ../dict/LHCbKernel_dictionary.h;  \
     cp ../xml/lcgdict/lcg_selection.xml ../dict/LHCbKernel_selection.xml; fi" \
  WIN32 ""
macro LHCbKernelObj2Dict_dependencies LHCbKernel_custom_dict
