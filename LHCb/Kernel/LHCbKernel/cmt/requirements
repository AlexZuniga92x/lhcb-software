# $Id: requirements,v 1.64 2004-11-29 13:59:49 cattanem Exp $
# =============================================================================
package LHCbKernel
author  M.Frank    CERN/LHCb
manager M.Cattaneo CERN/LHCb

version v5r4

include_dirs $(LHCBKERNELROOT)

use GaudiKernel  v*
use CLHEP        v*    LCG_Interfaces

# Produce Header-Files from XML description, overriding default destination
#============================================================================
macro LHCbKernelObj2Doth_GODflags " -o ../Kernel/ " \
      WIN32                       " -o ..\Kernel\ "
document obj2doth LHCbKernelObj2Doth ../xml/*.xml

macro LHCbKernelObj2Dict_GODflags " -l Kernel/ " \
      WIN32                       " -l Kernel\ "
document obj2dict LHCbKernelObj2Dict ../xml/*.xml

# Produce lcg dictionary for stl containers used in LHCb
document lcg_dictionary_generator LHCbKernelGen \
      $(LHCBKERNELROOT)/Kernel/lcgStl.h dictionary=LHCbKernel
macro_append LHCbKernel_lcgdict_options \
      '--select=$(LHCBKERNELROOT)/xml/lcgdict/lcg_selection.xml --split --pool \
       -I"$(POOL_home)/../include" $(includes)'

# Build libraries (including dictionary)
#============================================================================
library LHCbKernel     *.cpp
library LHCbKernelDict ../dict/*.cpp ../$(tag)/dict/LHCbKernel/*.cpp
        
# Standard patterns (order is essential)
#============================================================================
apply_pattern component_library library=LHCbKernelDict
apply_pattern linker_library    library=LHCbKernel

private
use GaudiObjDesc v6r*
