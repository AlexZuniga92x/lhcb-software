package OnlineKernel
version v1r4

branches  cmt doc src
use GaudiPolicy v*
apply_pattern install_more_includes more=OnlineKernel

library       OnlineKernel ../src/WT/*.cpp      \
                           ../src/MBM/*.cpp     \
                           ../src/RTL/*.cpp     \
                           ../src/PUBAREA/*.cpp \
                           ../src/TAN/*.cpp     \
                           ../src/AMS/*.cpp     \
                           ../src/SCR/*.cpp     \
                           ../src/CPP/*.cpp     \
                           ../src/NET/*.cpp

macro_append  OnlineKernel_shlibflags ' -lpthread -lrt -lcurses ' WIN32 ' '
apply_pattern ld_library_path
apply_pattern linker_library   library=OnlineKernel
application   test             ../main/wt.cpp
application   gentest          ../main/gentest.cpp
macro_append  use_includes     ' $(ppcmd)"$(OnlineKernel_cmtpath)/$(cmt_installarea_prefix)/include/OnlineKernel" '
macro_append  use_linkopts     ' -ldl ' WIN32 ''
path_remove PYTHONPATH '/OnlineKernel/'    WIN32 '\OnlineKernel\'
path_append PYTHONPATH $(ONLINEKERNELROOT)/python

private
macro_append  cppflags " -ansi -pedantic -W -Wall -Woverloaded-virtual -Wno-long-long -Wnon-virtual-dtor -Wwrite-strings -Wpointer-arith -Wno-non-template-friend -Wimplicit -Wreturn-type -Wunused -Wparentheses -Wctor-dtor-privacy -pthread -fmessage-length=0 -ftemplate-depth-300 " WIN32 ""
