package OnlineBase
version v1r7

branches  cmt doc src
use GaudiPolicy v*

macro OnlineDictionary_cppflags "" target-icc " -wd2304 "

apply_pattern install_more_includes more=OnlineBase

library       OnlineBase   ../src/AMS/*.cpp     \
                           ../src/CPP/*.cpp     \
                           ../src/MBM/*.cpp     \
                           ../src/NET/*.cpp     \
                           ../src/PUBAREA/*.cpp \
                           ../src/RTL/*.cpp     \
                           ../src/SCR/*.cpp     \
                           ../src/TAN/*.cpp     \
                           ../src/WT/*.cpp

macro_append  OnlineBase_shlibflags ' -ldl -lpthread -lrt -lcurses ' WIN32 ' '
apply_pattern ld_library_path
apply_pattern linker_library          library=OnlineBase
macro_append  use_includes            ' $(ppcmd)"$(OnlineBase_cmtpath)/$(cmt_installarea_prefix)$(shared_install_subdir)/include/OnlineBase" '

macro_append  cppflags     "" \
	target-vc9 " -wd4996 " \
	target-vc7 ""

setup_script  $(ONLINEBASEROOT)/scripts/onlinepatches

private
macro_append  use_includes ' $(ppcmd)"$(ONLINEBASEROOT)/OnlineBase" '
macro_append  cppflags     " -ansi -pedantic -Wall -Woverloaded-virtual -Wno-long-long -Wnon-virtual-dtor -Wwrite-strings -Wpointer-arith -Wreturn-type -Wunused -pthread -fmessage-length=0 -ftemplate-depth-300 " WIN32 ""

macro_append  cppflags     "" \
	target-gcc " -W -Wparentheses -Wctor-dtor-privacy -Wno-non-template-friend -Wimplicit "
