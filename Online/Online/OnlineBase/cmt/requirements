package OnlineBase
version v1r10

branches  cmt doc src
use OnlineKernel v* Online
use Reflex       v* LCG_Interfaces -no_auto_imports

apply_pattern install_more_includes more=OnlineBase

library       OnlineBase   ../src/MBM/*.cpp     \
                           ../src/PUBAREA/*.cpp \
                           ../src/TAN/*.cpp     \
                           ../src/AMS/*.cpp     \
                           ../src/SCR/*.cpp     \
                           ../src/NET/*.cpp     \
                           ../src/WT/*.cpp

macro_append  OnlineBase_shlibflags ' -lpthread -lrt -lcurses ' WIN32 ' '
apply_pattern ld_library_path
apply_pattern linker_library          library=OnlineBase
#
#  Applications:
#
macro_append  use_includes            ' $(ppcmd)"$(OnlineBase_cmtpath)/$(cmt_installarea_prefix)/include/OnlineBase" '
macro_append  use_linkopts            ' -ldl ' WIN32 ''
path_remove PYTHONPATH                '/OnlineBase/'    WIN32 '\OnlineBase\'
path_append PYTHONPATH                $(ONLINEKERNELROOT)/python

#apply_pattern reflex_dictionary dictionary=OnlineBase \
#                                headerfiles=$(ONLINEKERNELROOT)/dict/dictionary.h \
#                                selectionfile=$(ONLINEKERNELROOT)/dict/dictionary.xml \
#                                imports=Python
macro_append OnlineBase_reflex_options " -D__GCCXML"

# Gnerate dictionary rootmap file
#apply_pattern generate_rootmap library=OnlineBaseDict
#apply_pattern declare_python_modules files=*.py

apply_pattern QMTest
apply_pattern QMTestSummarize

private
macro_append  use_includes ' $(ppcmd)"$(ONLINEKERNELROOT)/OnlineBase" '
macro_remove  OnlineBase_shlibflags '-lOnlineBase'  WIN32 'OnlineBase.lib'
