<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>LHCb-UK Software Training</title>
    
    
    <link rel="stylesheet" media="screen" type="text/css" 
      href="http://www.hep.phy.cam.ac.uk/lhcb/LHCbSoftTraining/documents/lhcb-cambridge-blue.css">

      <link rel="stylesheet" media="print" type="text/css" 
	href="http://www.hep.phy.cam.ac.uk/lhcb/LHCbSoftTraining/documents/lhcb-cambridge-print.css"></head><body>

  <body>

    <table id="titlebar">
      <tbody>
	<tr style="vertical-align: bottom;">
	  <td style="padding-bottom: 15px;">
	    <h1>LHCb Software Training: GaudiPython</h1></td>
	  <td id="lhcblogo" style="text-align: right;">
	    <a href="http://cern.ch/lhcb">
	      <img src="http://lhcb.web.cern.ch/lhcb/lhcblogo.gif"></a></td>
	</tr>
      </tbody>
    </table>
    
    <div id="content">
      
      <h1><span lang="en-gb">Exercises linked to GaudiPython session</span></h1>
      
      <p>
	The purpose of these exercises is to allow you to become more familiar
        with the Python interface to Gaudi and ROOT.

		<h2>1. Python and Root </h2>
                <p> The first exercise is concerned with the Python interface to ROOT.
                    Write a small Python function (e.g. <code>second.py</code>) which
                    draws a function, e.g. <code> sin(x)</code>. </p>
                <p> The function should: </p>
		<ul>
			<li>Setup the environment via <code> SetupProject DaVinci v17r6</code>
			    (if you didn't do this already). Check that you have the right versions of
			    ROOT (<code>5.13.04c</code> from the LCG area) and Python (<code>2.4.2</code>
			    from the LCG area)</li>
		        <li>Import the ROOT package </li>
			<li>Open a ROOT <code>TCavas</code> </li>
			<li>Take the limits between which the functions is drawn
			     as arguments</li>
			<li>Define a new function using <code>TF1</code> from ROOT </li>
			<li>Draw the function</li>
			
	        </ul>
		<h2>2. Understand InitGaudi.py and GaudiPyTutorial.py</h2>
		<ul>
			<li>Copy the files InitGaudi.py and GaudiPyTutorial.py from <code>
		             solutions/GaudiPython</code> to your local
		            working directory</li>
			<li>Setup the environment via <code> SetupProject DaVinci v17r6</code>
			    (if you didn't do this already). Check that you have the right versions of
			    ROOT (<code>5.13.04c</code> from the LCG area ) and Python (<code>2.4.2</code> 
			    from the LCG area)</li>
			<li>We will use DST files from the Bs -> J/psi Phi dataset. You can either
			    make a copy of the file to some scratch area (e.g. <code> /tmp</code>
			    via e.g. <code>rfcp /castor/cern.ch/grid/lhcb/production/DC06/v1-lumi2/00001438/DST/0000/00001438_00000001_5.dst /tmp</code>
			    or use files from CASTOR</li>
			<li>Go through the files and understand what happens. Execute the event-loop
			    for some events and look at the histograms. You can do this following 
			    the steps
			    <ul>
			         <li> start a Python shell via <code>python</code> </li>
				 <li> <code> import GaudiPyTutorial </code> </li>
				 <li> <code> GaudiPyTutorial.eventLoop(N) </code> for N events</li>
			    </ul>
			    </li>			
		</ul>
		<h2>Extend the event loop with own histograms and cuts</h2>
 		<ul>
		  <li>Extend the event-loop with own cuts and histograms. Reload the changed
		      Python script with <code>reload(GaudiPyTutorial)</code> and jump back
		      to the beginning of the data-file with <code>GaudiPyTuTorial.sel.rewind()</code>
		      E.g. you could apply a cut on the combined Particle ID for the muons and
		      compare how the invariant mass distribution changes, apply a cut on the
		      maximal chi**2 of the di-muon vertex fit, ...
		  </li>    
		 </ul>
		  
<hr>
<p><span lang="en-gb">Last modified by U. Kerzel, 2007-Jan-04
</div>
</body></html>
