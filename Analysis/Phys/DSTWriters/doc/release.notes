!-----------------------------------------------------------------------------
! Package     : Phys/DSTWriters
! Responsible : Juan PALACIOS
! Purpose     : Python code for DST writers.
!-----------------------------------------------------------------------------

! 2010-10-03 - Juan Palacios
 - DSTWriters.__dev__.microdstelements: ClonePVs now copies PV weights vectors.

! 2010-09-29 - Juan Palacios
 - python/DSTWriters/__dev__/microdst.py
  . MicroDSTWriter defaults shallow-copy ProtoParticles.
 - python/DSTWriters/__dev__/microdstelements.py
  . Remove all OutputLevel settings. Leave it up to the job (if they can
    find the configurable!)

! 2010-09-24 - Juan Palacios
 - Major re-structuring of DSTWriters.__dev__ module.
  . Main configurable is SelDSTWriter. MicroDSTWriter and StripDSTWriter
    provided for default behaviour, but is is possible to co everything
    via configuration of SelDSTWriter. Default "elements" and "stream conf"
    functions are provided to controll the items going into the MicroDST
    partition and the OutputStream configuration respectively. Relevant
    symbols from DSTWriters.__dev__.Configuration:

    * ConfigurableUsers:
	     'SelDSTWriter'
  	   'MicroDSTWriter'
       'StripDSTWriter'
    * default output stream parameters:
       'selDSTStreamConf'
       'microDSTStreamConf'
       'stripDSTStreamConf'
    * default sets of items for MicroDST partition.
       'selDSTElements'
       'microDSTElements'
       'stripDSTElements'

! 2010-09-23 - Juan Palacios
 - python/DSTWriters/dstwriters.py
 - python/DSTWriters/streamconf.py
 - python/DSTWriters/__dev__/MicroDSTWriter.py
 - python/DSTWriters/__dev__/BaseDSTWriter.py
 - python/DSTWriters/__dev__/SelDSTWriter.py
  . Enable configuration of DST writing per SelectionSequence. This allows
    to configure the contents of the MicroDST partition, the ExtraItems, and
    the type of output (DST, MicroDST) on a pre-stream basis.
  . Simplify output stream configuration.

! ======================== DSTWriters v1r11 2010-09-06 =======================

! 2010-08-30 - Juan Palacios
 - python/DSTWriters/__dev__/BaseDSTWriter.py
  . Bug fix in ExtraItems.

! 2010-08-25 - Juan Palacios
 - cmt/requirements
  . Increase to v1r11
 - python/DSTWriters/microdstelements.py
  . Add 'CloneLHCbIDs' to __all__.

! ======================== DSTWriters v1r10 2010-08-20 =======================

! 2010-08-20 - Juan Palacios
 - python/DSTWriters/microdstelements.py
  . Add CloneParticle2LHCbIDs. For creating and copying DaVinci::Map::Particle2LHCbIDs
    objects starting from a particle location.

! 2010-08-12 - Juan Palacios
 - python/DSTWriters/microdstelements.py
  . CloneHltDecReports accepts list of DecReport locations in constructor.
 - python/DSTWriters/BaseDSTWriter.py
 - python/DSTWriters/dstwriters.py
  . OutputStreams now called <sequence name>_OStream and have OutputLevel
    set to INFO.

! 2010-08-10 - Juan Palacios
 - python/DSTWriters/streamconf.py
  . OutputStreamConf is now a simple ConfigurableUser. Its params() method
    returns an OutputStreamConfParams, which is equivalent to old OutputStreamConf.
 - python/DSTWriters/dstwriters.py
 - python/DSTWriters/__dev__/BaseDSTWriter.py
  . Adapt to above changes.

! 2010-08-06 - Juan Palacios
 - python/DSTWriters/microdstelements.py
  . Add CloneRawBanks MicroDSTElement. Constructor takes list with string
    of RawBanks to copy.

! 2010-08-05 - Juan Palacios
 - python/DSTWriters/__dev__/MicroDSTWriter.py
  . Remove B-tagging from defaults.
 - python/DSTWriters/microdstelements.py
  . Add element for cloning of HltSelReports and HltDecReports raw banks.
 - python/DSTWriters/dstwriters.py
  . "default" output stream configurations are now functions returning 
    a new instance each time.
 - python/DSTWriters/__dev__/*DSTWriter.py
  . Use new functions to get default output stream configurations.

! 2010-08-04 - Juan Palacios
 - python/DSTWriters/microdstelements.py
  . Simplify ClonePVRelations. Add ReFitAndClonePVs.

! 2010-08-03 - Juan Palacios

 - More improvements to DSTWriters.__dev__, DSTWriters.dstwriters, DSTWriters.microdstelements modules.

! 2010-08-03 - Juan Palacios
 - Improvements to DSTWriters.__dev__ module and related changes to DSTWriters.dstwriters, 
   DSTWriters.microDSTelements, DSTWriters.streamconf.

! 2010-08-02 - Juan Palacios
 - Added DSTWriters.__dev__ module with development versions of Base, Micro and 
   Sel DSTWriters.
 - cmt/requirements
  . Increase to v1r10.

! ======================== DSTWriters v1r9 2010-08-02 ========================

! 2010-08-02 - Juan Palacios
 - python/DSTWriters/dstwriters.py
  . Changes to encapsulate input sequence and only add DST writing algorithms
    externally.
 - python/DSTWriters/microdstelements.py
  . Typo bug fixes.
 - python/DSTWriters/BaseDSTWriter.py
 - python/DSTWriters/SelDSTWriter.py
 - python/DSTWriters/dstwriters.py
  . Use new Gaudi InputCopyStream instead of LHCb::InputCopyStream.
 - cmt/requirements
  . Increase version to v1r9.

! ======================== DSTWriters v1r8 2010-07-08 ========================

! 2010-07-07 - Juan Palacios
 - MicroDSTWRiter, SelDSTWriter
  . Change in behaviour: OutputPrefix default results in data written to /Event/<sequence name>/...
    OutputPrefix = 'X' results in data written to /Event/X/<sequence name>/...
 - cmt/requirements
  . Increase to v1r8.
! ======================== DSTWriters v1r7 2010-06-24 ========================

! 2010-06-22 - Juan Palacios
 - python/DSTWriters/MicroDSTWriter.py, dstwriterutils.py, microdstelements.py
  . Hack to find FilterDesktops inside GaudiSequencers.
 - cmt/requirements
  . Increase to v1r7.

! ======================== DSTWriters v1r6p3 2010-06-16 ======================

! 2010-06-16 - Juan Palacios
 - cmt/requirements
  . Increase to v1r6p3

! 2010-06-16 - Rob Lambert
 - Add a missing FSR configuration
   . FileRecords.EvtConversionSvc = "FileRecordPersistencySvc" 
   . in BaseDSTWriter.py

! ======================== DSTWriters v1r6p2 2010-06-11 ======================

! 2010-06-11 - Juan Palacios
 - python/DSTWriters/SelDSTWriter.py
  . Remove verbose OutputLevel

! 2010-06-09 - Juan Palacios
 - python/DSTWriters/BaseDSTWriter.py
  . Remove trailing "," in argument list of FSRWriter RecordStream.
 - cmt/requirements
  . Increase to v1r6p2

! ======================== DSTWriters v1r6p1 2010-05-28 ======================

! 2010-05-28 - Juan Palacios
 - python/DSTWriters/SelDSTWriter.py
  . Copy all PVs in P->PV relations. Nasty, but solves problems when 
    re-fitting PVs.

! ======================== DSTWriters v1r6 2010-05-24 ========================

! 2010-05-21 - Juan Palacios
 - python/DSTWriters/SelDSTWriter.py
  . Remove EventNodeKiller. New LHCb::InputCopyStream takes care of everything.

! 2010-05-21 - Juan Palacios
 - python/DSTWriters/dstutils.py
  . Add nested list flattening.

    *** Requires the package GaudiPatches >= v1r1 ***
! 2010-05-20 - Marco Clemencic
 - python/DSTWriters/dstwriters.py
 - python/DSTWriters/BaseDSTWriter.py
 - python/DSTWriters/SelDSTWriter.py
  . Use LHCb__InputCopyStream instead of the normal InputCopyStream

! 2010-05-18 - Juan Palacios
 - python/DSTWriters/*DSTWriter.py
  . Clear stream's "special" nodes after writing to avoid cross-stream pollution.
 - cmt/requirements
  . Increase to v1r6.

! ======================== DSTWriters v1r5p1 2010-05-15 ======================

! 2010-05-12 Jaap Panman
 - python/DSTWriters/Configuration.py
  . Fix to instantiate FileRecordCnvSvc only once (in DaVinci Configurable)
  . DaVinci().WriteFSR = True is now essental also for writing selDSTs

! ======================== DSTWriters v1r5 2010-05-10 ========================

! 2010-05-07 - Juan Palacios
 - python/DSTWriters/MicroDSTWriter.py
 - python/DSTWriters/BaseDSTWriter.py
 - python/DSTWriters/SelDSTWriter.py
  . Set OutputPrefix of each stream to SelectionSequence's name if configurable's
    OutputPrefix set to 'SequenceName'. Should be used for multi-selection sequences
    like Stripping Streams and MultiSelectionSequence.
 - cmt/requirements
  . Increase to v1r5

! 2010-05-04 - Juan Palacios
 - python/DSTWriters/dstwriterutils.py
  . Fix ConfigurableList to return 'algos' attribute by default.
 - cmt/requirements
  . Increase to v1r4p3

! ======================== DSTWriters v1r4p2 2010-04-26 ======================

! 2010-04-26 - Juan Palacios
 - python/DSTWriters/microdstelements.py, MicroDSTWriter.py
  . Protect against selection having no algorithm (as with DataOnDemand or
    AutomaticData)
 - cmt/requirements
  . Increase to v1r4p2
 
! ======================== DSTWriters v1r4p1 2010-04-12 ======================

! 2010-04-12 - Juan Palacios
 - python/DSTWriters/dstwriterutils.py
  . Fix typo in algorithm list getter method for SelectionSequence.
 - cmt/requirements
  . Increase version to v1r4p1

! ======================== DSTWriters v1r4 2010-04-08 ========================

! 2010-03-25 - Juan Palacios
 - python/DSTWriters/MicroDSTWriter.py, microdstelements.py
  . Use new StrippingStream.filterMembers() to get list of configurables.
 - added python/DSTWriters/dstwriterutils.py with class returning flat list of configurables for different selection sequence types. Needed due to divergent interface between types.

! 2010-03-22 - Juan Palacios
 - cmt/requirements
  . Increase to v1r4
 - python/DSTWriters/MicroDSTWriter.py
 - python/DSTWriters/microdstelements.py
  . Set CloneFilteredParticles of algorithms in sequence to True.

! ======================== DSTWriters v1r3 2010-03-08 ========================

! 2010-02-24 - Juan Palacios
 - python/DSTWriters/microdstelements.py
  . Add callable for BackgroundCategory calculation and cloning.
 - cmt/requirements
  . Increase version to v1r3

! ======================== DSTWriters v1r2p1 2010-02-22 ======================

! 2010-02-16 - Juan Palacios
 - python/DSTWriters/MicroDSTWriter.py
  . Use alg.getProp instead of accessing property directly. To avoid 
    configurables magic mishaps.
 - python/DSTWriters/microdstelements.py
  . Safety: Make sure related PV is not copied in cases where it is a default
    PV and the selection object doesn't have an 'algorithm' property.

! 2010-02-15 - Juan Palacios
 - python/DSTWriters/MicroDSTWriter.py
  . Safety: Make sure related PV is not copied in cases where it is a default
    PV and the selection object doesn't have an 'algorithm' property.

! 2010-02-11 - Juan Palacios
 - python/DSTWriters/BaseDSTWriter.py
  . Attempted bug-fix: problems with writing out many selection sequences.
    Create main sequence with parameters ModeOR=True, ShortCircuit=False
    instead of IgnoreFilterPassed=True.
 - cmt/requirements
  . Increase version to v1r2p1

! ======================== DSTWriters v1r2 2010-02-02 ========================

! 2010-02-02 - Juan Palacios
 - Added new fragment modules which factor out various elements of the various
   DST writing problems.
 - cmt/requirements
  . Increase version to v1r2.

! ======================== DSTWriters v1r1 2010-02-01 ========================

! 2010-02-01 - Juan Palacios
 - MicroDSTWriter, SelDSTWriter
   .Remove 'WriteFSR' slot. Should come from BaseDSTWriter.
 - cmt/requirements
  . Increase version to v1r1

! 2009-12-29 - Jaap Panman
 - BaseDSTWriter.py, MicroDSTWriter.py, SelDSTWriter.py: copy FSR by default

! ======================== DSTWriters v1r0 2009-11-30 ========================

! 2009-11-30 - Juan PALACIOS
 - First import into CVS.
 - Gather all DST writers here.

  New package containing the three existing selection-based DST writers.

