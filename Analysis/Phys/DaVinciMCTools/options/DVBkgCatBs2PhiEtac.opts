#include "$BS2PHIETACROOT/options/DVPreselBs2PhiEtac.opts"
#include "$BS2PHIETACROOT/options/TightCutsForPreselBs2PhiEtac.opts"

// For tight mass window add:
// Bs2Phi2KK_Etac2PiPiPiPiForPreselBs2PhiEtac.Window = 50.0 * MeV ;
// Bs2Phi2KK_Etac2KKPiPiForPreselBs2PhiEtac.Window = 50.0 * MeV ;
// Bs2Phi2KK_Etac2KKKKForPreselBs2PhiEtac.Window = 50.0 * MeV ;

// To ignore the VtxIsolationFilterCriterion (inactive filter):
Bs2Phi2KK_Etac2PiPiPiPiForPreselBs2PhiEtac.MotherFilter.VtxIsolationFilterCriterion.NTracks = -1;
Bs2Phi2KK_Etac2KKPiPiForPreselBs2PhiEtac.MotherFilter.VtxIsolationFilterCriterion.NTracks = -1;
Bs2Phi2KK_Etac2KKKKForPreselBs2PhiEtac.MotherFilter.VtxIsolationFilterCriterion.NTracks = -1;

ApplicationMgr.TopAlg += {"PrintBackgroundCategory/BkgCatBs2PhiEtac"};

BkgCatBs2PhiEtac.OutputLevel = 1;
BkgCatBs2PhiEtac.PhysDesktop.InputLocations = {"Phys/Bs2Phi2KK_Etac2PiPiPiPiForPreselBs2PhiEtac", 
                                               "Phys/Bs2Phi2KK_Etac2KKPiPiForPreselBs2PhiEtac",
                                               "Phys/Bs2Phi2KK_Etac2KKKKForPreselBs2PhiEtac"};

BkgCatBs2PhiEtac.BackgroundCategory.Particle2MCWithChi2.Location = "Phys/Relations/Particle2MCWithChi2BkgCatBs2PhiEtac";
BkgCatBs2PhiEtac.BackgroundCategory.Particle2MCWithChi2.AlgorithmName = "Particle2MCWithChi2BkgCatBs2PhiEtac";
BkgCatBs2PhiEtac.BackgroundCategory.LowMassBackgroundCut = 14.0 * TeV;

Particle2MCWithChi2BkgCatBs2PhiEtac.InputData = {"Phys/CombinedForPreselBs2PhiEtac/Particles", 
                                                 "Phys/FilterParticlesForPreselBs2PhiEtac/Particles", 
                                                 "Phys/TrueBs2PhiEtacTracks/Particles"};

BkgCatBs2PhiEtac.DebugTool.Information = "Name E M P Px Py Pz Pt phi Vz";
BkgCatBs2PhiEtac.PrintTree = false;
BkgCatBs2PhiEtac.DumpMCEvent = false;
 
// BkgCatBs2PhiEtac.FilterCategoryNames ={"Signal", "Reflection"};
// BkgCatBs2PhiEtac.FilterCategoryTypes ={0};
// BkgCatBs2PhiEtac.FlipResult = true;


// Number of events to process and skip
//<<<<<<< DVBkgCatBs2PhiEtac.opts
ApplicationMgr.EvtMax    = 1 ;
EventSelector.FirstEvent = 1209;
//=======
//ApplicationMgr.EvtMax    = -1;
//EventSelector.FirstEvent = 1;
//>>>>>>> 1.2
EventSelector.PrintFreq  = 1;

EventSelector.Input   = {};
// Stripped sel dst, loose mass window
#include "$BS2PHIETACROOT/options/DstSelBs2PhiEtac.opts"
